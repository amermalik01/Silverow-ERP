<div class="widget">
    <div class="widget-body widget_media_ipad">
        <div class="row">
            <div class="col-md-12">
                <h5 ng-if="rec.type2==0" style="float:left;" class="sales_heading">Sales Quote</h5>
                <h5 ng-if="rec.type2==1" style="float:left;" class="sales_heading">Sales Order</h5>
                <h5 ng-if="rec.type2==2" style="float:left;" class="sales_heading">Sales Invoice</h5>
                <h5 class="sales_heading" style="float:right;margin-right: 16px; color:green; font-style: italic;" ng-if="approvals_lock_order==1 && rec.type2!=0">Approved</h5>
                <h5 class="sales_heading" style="float:right;margin-right: 16px; color:red; font-style: italic;" ng-if="approvals_lock_order!=1 && rec.type2==1 && (credit_limit_approval_req > 0 || margin_analysis_approval_req > 0)">Not Approved</h5>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12" style="margin-bottom: 5px;">
                <div class="col-md-3 col-md-3" style="margin-bottom: 6px;">
                    <div class="form-group">
                        <label class="col-md-4 control-label" title="Bill to Customer Number">Bill to Cust. No.</label>
                        <div class="col-md-8">
                            <input type="hidden" ng-model="rec.bill_to_cust_no" class="form-control" />
                            <div class="input-symbol" ng-class="{'dont-click':check_so_readonly || 1}">
                                <input type="text" id="bill_to_cust_no" class="form-control" ng-model="rec.bill_to_cust_no" ng-click="getCustomer_finance()" ng-readonly="check_so_readonly || 1" />
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label">Name</label>
                        <div class="col-md-8">
                            <input type="hidden" ng-model="rec.bill_to_name" class="form-control" />
                            <div class="input-symbol">
                                <input type="text" id="bill_to_name" class="form-control" ng-model="rec.bill_to_name" ng-disabled="(check_so_readonly || !rec.anonymous_customer) && !check_si_readonly" />
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label">Address Line 1</label>
                        <div class="col-md-8">
                            <input type="text" ng-model="rec.bill_to_address" id="bill_to_address" class="form-control" ng-disabled="(check_so_readonly || !rec.anonymous_customer) && !check_si_readonly" />
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label">Address Line 2</label>
                        <div class="col-md-8">
                            <input type="text" ng-model="rec.bill_to_address2" id="bill_to_address2" class="form-control" ng-disabled="(check_so_readonly || !rec.anonymous_customer) && !check_si_readonly" />
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label">City</label>
                        <div class="col-md-8">
                            <input type="text" ng-model="rec.bill_to_city" id="bill_to_city" class="form-control" ng-disabled="(check_so_readonly || !rec.anonymous_customer) && !check_si_readonly" />
                        </div>
                    </div>
                </div>

                <div class="col-md-3 col-md-3">
                    <div class="form-group">
                        <label class="col-md-4 control-label">County</label>
                        <div class="col-md-8">
                            <input type="text" ng-model="rec.bill_to_county" id="bill_to_county" class="form-control" ng-disabled="(check_so_readonly || !rec.anonymous_customer) && !check_si_readonly" />
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label" title="Postcode/Country">Postcode/Co.</label>
                        <div class="col-md-4 pr0">
                            <input type="text" ng-model="rec.bill_to_post_code" id="bill_to_post_code" class="form-control text-uppercase" ng-disabled="(check_so_readonly || !rec.anonymous_customer) && !check_si_readonly" />
                        </div>

                        <div class="col-md-4" style="padding-left: 5px;">
                            <select ng-model="rec.bill_to_country_ids" ng-options="opt as opt.code for opt in country_type_arr track by opt.id" class="form-control " ng-disabled="(check_so_readonly || !rec.anonymous_customer) && !check_si_readonly">
							</select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label">Contact Person</label>
                        <div class="col-md-8">
                            <input type="text" ng-model="rec.bill_to_contact" id="bill_to_contact" class="form-control" ng-disabled="(check_so_readonly || !rec.anonymous_customer) && !check_si_readonly" />
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label">Telephone </label>
                        <div class="col-md-8">
                            <input type="text" ng-model="rec.bill_to_contact_phone" id="bill_to_contact_phone" class="form-control" ng-disabled="(check_so_readonly || !rec.anonymous_customer) && !check_si_readonly" />
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label">Email</label>
                        <div class="col-md-8">
                            <input type="text" ng-model="rec.bill_to_contact_email" id="bill_to_contact_email" class="form-control" ng-disabled="(check_so_readonly || !rec.anonymous_customer) && !check_si_readonly" />
                        </div>
                    </div>
                </div>

                <div class="col-md-3 col-md-3">
                    <div class="form-group">
                        <label class="col-md-4 control-label">Payable Bank </label>
                        <div class="col-md-8">
                            <div class="input-symbol" ng-class="{'dont-click':((check_so_readonly && !check_si_readonly) || !allowedit_cust_finanace_tab)}">
                                <input type="text" ng-model="rec.bill_to_bank_name" id="bill_to_bank_name" class="form-control" style="padding-right: 29px;" ng-click="getBankAccount()" ng-disabled="(check_so_readonly && !check_si_readonly) || !allowedit_cust_finanace_tab" readonly ng-class="{'white_bg':(!check_so_readonly && allowedit_cust_finanace_tab) || check_si_readonly}"
                                />
                                <input type="hidden" ng-model="rec.bank_account_id" id="bank_account_id" class="form-control" />
                                <span><i class="fa fa-external-link"></i></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label">Payment Method</label>
                        <div class="col-md-8">
                            <select ng-model="drp.payment_method_ids" ng-options="paymentMethod as paymentMethod['description'] for paymentMethod in arr_paymentMethods track by paymentMethod.id" class="select2me form-control" ng-disabled="(check_so_readonly || !allowedit_cust_finanace_tab) && !check_si_readonly"
                                ng-change="addNewPaymentMethod(drp.payment_method_ids,3,'Payment Method',drp)">
								<option value="" disabled selected>Select Payment Method</option>
							</select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label">Payment Terms</label>
                        <div class="col-md-8">
                            <select ng-model="drp.payment_terms_ids" ng-options="paymentTerms as paymentTerms['description'] for paymentTerms in  arr_paymentTerms track by paymentTerms.id" ng-change="CalculateDueDate(rec.posting_date);" class="select2me form-control" ng-disabled="(check_so_readonly || !allowedit_cust_finanace_tab) && !check_si_readonly"><!-- arr_payment_terms -->
								<option value="" disabled selected>Select Payment Terms</option>
							</select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label">Due Date</label>
                        <div class="col-md-8">
                            <input class="2date-picker form-control  " id="due_date" ng-model="rec.due_date" required="" ng-readonly="true">
                            <span class="fa fa-calendar  new_ca  form-control-feedback"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label">Finance Charge</label>
                        <div class="col-md-8">
                            <div class="input-symbol">
                                <input type="text" id="fincharges" name="fincharges" class="form-control" ng-readonly="true" ng-model="rec.bill_to_finance_charges" />
                                <span ng-if="rec.bill_to_finance_charges_type==1">&#37;</span>
                                <span ng-if="rec.bill_to_finance_charges_type==2">{{defaultCurrencyCode}}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-3 col-md-3">
                    <div class="form-group">
                        <label class="col-md-4 control-label" title="Insurance Charge">Ins. Charge</label>
                        <div class="col-md-8">
                            <div class="input-symbol">
                                <input type="text" id="bill_to_insurance_charges" name="bill_to_insurance_charges" class="form-control" ng-readonly="true" ng-model="rec.bill_to_insurance_charges" />
                                <span ng-if="rec.bill_to_insurance_charges_type==1">&#37;</span>
                                <span ng-if="rec.bill_to_insurance_charges_type==2">{{defaultCurrencyCode}}</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label ">Currency </label>
                        <div class="col-md-8">
                            <select ng-disabled="check_so_readonly || 1 " ng-model="rec.currency_id" ng-options="currency as currency.code +' - '+ currency.name for currency in currency_arr_local track by currency.id" class="form-control">
								<option style="display:block" value=""></option>
							</select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label">Posting Group</label>
                        <div class="col-md-8">
                            <select class="form-control" ng-disabled="check_readonly || 1" ng-model="drp.vat_bus_posting_group_id">
								<option ng-repeat="opt in arr_posting_grp" ng-selected="{{opt.id == drp.vat_bus_posting_group_id}}" value="{{opt.id}}"> {{opt.name}}</option>
							</select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-4 control-label">Previous Code</label>
                        <div class="col-md-8">
                            <input type="text" class="form-control" id="previous_code" ng-model="rec.prev_code" ng-disabled="check_so_readonly">
                        </div>
                    </div>

                    <div class="form-group" ng-if="rec.sale_quote_code.length>0 && rec.type2 != 0">
                        <label class="col-md-4 control-label">Converted By</label>
                        <div class="col-md-8">
                            <input ng-readonly="product_type" type="text" ng-model="rec.converted_to_so_by_name" class="form-control" />
                        </div>
                    </div>
                </div>
            </div>
            <div>
            </div>
        </div>
    </div>
</div>
</div>
<div ng-include="'app/views/orders/_listing_purchase_orders.html'"></div>
<div ng-include="'app/views/orders/_check_cridit_modal.html'"></div>
<div ng-include="'app/views/orders/_customer_listing_modal.html'"></div>
<div ng-include="'app/views/orders/_listing_modal_bank_order.html'"></div>
<div ng-include="'app/views/_listing_modal_cust.html'"></div>
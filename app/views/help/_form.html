<div ng-controller="HelpController"  ng-init="getAllParents();">
    <style type="text/css">
        .help-item{
            cursor: pointer;
        }
    </style>
    <div ng-include="'app/views/_breadcrumb.html'" class="col-lg-12 no-padding"></div>
    <div class="row">
        <!--<div class="col-lg-3 col-md-3 col-sm-12 col-sx-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title pull-left"><i class="fa fa-question-circle"></i> Help Topics</h4>
                    <div class="clearfix"></div>
                </div>
                <div class="panel-body help" style="height: 600px;">
                   

                    <div id="helplist" class="border-top-grey" style="display: block;">
                        <div ng-repeat="parent in allParents" id="{{'pp1_' + parent.id}}">
                            <div ng-click="toggle_parent('p1_' + parent.id);
                                            showDetails(parent.name, parent.description, parent.id)" id="{{'p1_' + parent.id}}_sidebar" class="help-item level1 main_title"><i class="fa fa-angle-down text-info" ng-show="parent.childs > 0"></i>{{parent.name}}</div>

                            <div id="{{'p1_' + parent.id}}_1" style="display:none;" class="help-parents border-bottom-grey">
                                <div ng-repeat="child in childs[parent.id]">  
                                    <div class="help-item level2" ng-click="toggle_it('c1_' + child.id);
                                                        showDetails(child.name, child.description, child.id);"><a clas="mail-info pull-left" style="padding-left: 0px; padding-right: 0px;" href="javascript: void(0);"><i class="fa fa-angle-down text-info" ng-show="child.childs > 0"></i>&nbsp;{{child.name}}</a></div>

                                    <div id="{{'c1_' + child.id}}_1" style="display:none;" ng-include="'categoryTree'">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <script type="text/ng-template" id="categoryTree">
                        <div ng-repeat="child in child.items">
                        <div class="help-item level3" ng-click="toggle_it('c1_'+child.id); showDetails(child.name, child.description, child.id);"><a clas="mail-info pull-left" style="padding-left: 0px; padding-right: 0px;" href="javascript: void(0);"><i class="fa fa-angle-down text-info" ng-show="child.childs > 0"></i>&nbsp;{{child.name}}</a></div>
                        <div id="{{'c1_' + child.id}}_1" style="display:none;" ng-include="'categoryTree'">

                        </div>
                        </div>

                    </script>

                </div>
            </div>
        </div>-->
        <div class="col-lg-12 col-md-12 col-sm-12 col-sx-12">
            <div class="form-group">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            Add Module
                        </h4>
                    </div>
                    <div class="vertical_space"></div>
                    <div class="">
                        <div class="col-lg-12 col-md-12">
                            <div class="form-group">
                                <label>Module Name</label>
                                <input type="text" class="form-control" ng-model="formdata.name" >
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12">
                            <div class="form-group" ng-init="getAllItems();">
                                <label>Module Parent</label>
                                <select class="form-control" ng-model="formdata.parent">
                                    <option value="" ></option>
                                    <option ng-repeat="item in allItems" value="{{item.id}}" >{{item.name}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12">
                            <div class="form-group" id="editorpanel">
                                <label>Module Description</label>
                                <textarea placeholder="" class="form-control mceEditor1" id="myarea" style="height: 350px !important; width: 100%;"></textarea>
                                <script type="text/javascript">
                                            $timeout(function () {
                                                tinyMCE.init({
                                                    // General options
                                                    mode: "specific_textareas",
                                                    editor_selector: "mceEditor1",
                                                    theme: "advanced",
                                                    //  plugins: "autolink,lists,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template,wordcount,advlist,autosave",
                                                    plugins: "autolink,lists,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template,wordcount,advlist,autosave",
                                                    // Theme options
                                                    paste_data_images: true,
                                                    relative_urls: false,
                                                    remove_script_host: false,
                                                    document_base_url: "<?=WEB_PATH?>/",
                                                    theme_advanced_buttons1: "bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,styleselect,formatselect,fontselect,fontsizeselect,bullist,numlist,cut,copy,paste,link,unlink,forecolor,backcolor,",
                                                    //theme_advanced_buttons2: "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor",
                                                    theme_advanced_buttons2: "",
                                                    theme_advanced_buttons3: "",
                                                    theme_advanced_buttons4: "",
                                                    //                        theme_advanced_buttons2: ",pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,",
                                                    //                        theme_advanced_buttons3: "tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen",
                                                    //                        theme_advanced_buttons4: "insertlayer,moveforward,movebackward,absolute,|,styleprops,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,pagebreak,restoredraft",
                                                    theme_advanced_toolbar_location: "top",
                                                    theme_advanced_toolbar_align: "left",
                                                    //theme_advanced_statusbar_location: "bottom",
                                                    theme_advanced_resizing: true,
                                                    // Example content CSS (should be your site CSS)
                                                    content_css: "css/content.css",
                                                    // Drop lists for link/image/media/template dialogs
                                                    template_external_list_url: "lists/template_list.js",
                                                    external_link_list_url: "lists/link_list.js",
                                                    external_image_list_url: "lists/image_list.js",
                                                    media_external_list_url: "lists/media_list.js",
                                                    // Style formats
                                                    /*
                                                     formats : {
                                                     alignleft : {selector : 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes : 'left'},
                                                     aligncenter : {selector : 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes : 'center'}
                                                     },
                                                     style_formats : [
                                                     {title : 'Test 1', selector : 'img', class : 'tablerow1'},
                                                     {title : 'Test 2', selector : 'img', class : 'classTest'}
                                                     ],
                                                     */
                                                    style_formats_merge: true,
                                                    style_formats: [
                                                        {
                                                            title: 'Image Right',
                                                            selector: 'img',
                                                            classes: 'classTest'
                                                        },
                                                        {
                                                            title: 'Image Left',
                                                            selector: 'img',
                                                            classes: 'classLeft'
                                                        }
                                                    ],
                                                    // Replace values for the template plugin
                                                    template_replace_values: {
                                                        username: "Some User",
                                                        staffid: "991234"
                                                    }
                                                });
                                            }, 50);</script>
                            </div>
                        </div>
                    </div>
                    <div class="hr_line2"></div>

                    <div class="row">
                        <div class="col-lg-12">
                            <p class="pull-right">
                                <button class="btn btn_blue width_80" type="button" ng-click="addHelp();"><i class="fa fa-check fa_display"></i> Submit</button>
                                <button ui-sref="app.help()" class="btn default width_80" type="button"><i class="fa fa-undo fa_display"></i> Cancel</button>
                                <span> <a ng-click="deleteHelp();" title="Delete"
                                                                   class="btn bg_blue width_80"><i class="fa fa-trash fa_display"></i>Delete</a> </span>
                            </p>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
<toaster-container toaster-options="{'position-class': 'toast-top-right', 'close-button':true}"></toaster-container>
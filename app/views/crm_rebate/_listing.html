<div class="row">
    <div class="col-md-12">
      <a id="prompt" ng-click="showCrmRebateForm()" class="btn btn_add pull-right margin_bottom"> Add New</a>
    </div>
  </div>

  <!-- Row starts -->
  <div class="row">

    <div class="col-md-12 col-md-12" >
      <div class="widget">
         <div class="widget-body1 ">
            <div id="dt_example" class="example_alt_pagination" ng-controller="CrmRebateController as table">
            <table ng-table ="table.tableParams5" class="table table-condensed table-striped table-hover table-bordered" id="data-table" ng-show="$data.length > 0">
                    <tbody class="table-body">
        <tr ng-repeat="rec in $data">
           <td ng-click="detail(rec.id)" data-title="'Rebate Type'" sortable="'type'">
                <span ng-if="rec.type == 1">Universal Rebate for the Customer</span>
                <span ng-if="rec.type == 2">Separate Rebate for <span ng-if="rec.category_type == 1">Item Category(ies)</span><span ng-if="rec.category_type == 2">Service Category(ies)</span></span>
                <span ng-if="rec.type == 3">Separate Rebate for <span ng-if="rec.item_type == 1">Item(s)</span><span ng-if="rec.item_type == 2">Service(s)</span></span>
           </td>
           <td  ng-click="detail(rec.id)" data-title="'Rebate Offered On'">
            <span ng-if="rec.type == 1 && rec.universal_type == 1">Universal Rebate for the Customer</span>
            <span ng-if="rec.type == 2" class="tooltips_cls">
              <span ng-repeat="cat in rec.offer_to" ng-if="$index ==0">{{cat.cat_name}}....</span>
              <ul ng-if="rec.offer_to.length > 0">
                  <li ng-repeat="cat in rec.offer_to">{{cat.cat_name}}</li>
              </ul>
            </span>
            <span ng-if="rec.type == 3" class="tooltips_cls">
              <span ng-repeat="item in rec.offer_to" ng-if="$index ==0">{{item.item_description}}...</span>
              <ul ng-if="rec.offer_to.length > 0">
                  <li ng-repeat="item in rec.offer_to">{{item.item_description}}</li>
              </ul>
              </span>

             <span ng-if="rec.universal_type == 2">
              <ul ng-if="rec.volume_1 > 0 || rec.volume_2 > 0 || rec.volume_3 > 0 || rec.volume_rebate_1 > 0 || rec.volume_rebate_2 > 0 || rec.volume_rebate_3 > 0">
                  <li ng-if="rec.volume_1 > 0 || rec.volume_rebate_1 > 0">{{rec.rbt_volume_1}}&nbsp;&#64;&nbsp;{{rec.volume_rebate_1}}&nbsp;&#37;</li>
                  <li ng-if="rec.volume_2 > 0 || rec.volume_rebate_2 > 0">{{rec.rbt_volume_2}}&nbsp;&#64;&nbsp;{{rec.volume_rebate_2}}&nbsp;&#37;</li>
                  <li ng-if="rec.volume_3 > 0 || rec.volume_rebate_3 > 0">{{rec.rbt_volume_3}}&nbsp;&#64;&nbsp;{{rec.volume_rebate_3}}&nbsp;&#37;</li>
              </ul>
              <span ng-if="rec.offer_to.length > 0" style="color:blue;" class="tooltips_cls">Item(s)...
              <ul ng-if="rec.offer_to.length > 0">
                  <li ng-repeat="item in rec.offer_to">{{item.item_description}}</li>
              </ul>
              </span>
            </span>
            <span ng-if="rec.universal_type == 3">
              <ul ng-if="rec.revenue_1 > 0 || rec.revenue_2 > 0 || rec.revenue_3 > 0 || rec.revenue_rebate_1 > 0 || rec.revenue_rebate_2 > 0 || rec.revenue_rebate_3 > 0">
                  <li ng-if="rec.revenue_1 > 0 || rec.revenue_rebate_1 > 0">{{rec.rbt_revenue_1}}&nbsp;&#64;&nbsp;{{rec.revenue_rebate_1}}&nbsp;&#37;</li>
                  <li ng-if="rec.revenue_2 > 0 || rec.revenue_rebate_2 > 0">{{rec.rbt_revenue_2}}&nbsp;&#64;&nbsp;{{rec.revenue_rebate_2}}&nbsp;&#37;</li>
                  <li ng-if="rec.revenue_3 > 0 || rec.revenue_rebate_3 > 0">{{rec.rbt_revenue_3}}&nbsp;&#64;&nbsp;{{rec.revenue_rebate_3}}&nbsp;&#37;</li>
              </ul>
              <span ng-if="rec.offer_to.length > 0" style="color:blue;" class="tooltips_cls">Item(s)...
              <ul ng-if="rec.offer_to.length > 0">
                  <li ng-repeat="item in rec.offer_to">{{item.item_description}}</li>
              </ul>
              </span>
            </span>
           </td>

           <td ng-click="detail(rec.id)" data-title="'Rebate'" sortable="'price_offered'" >
            <span ng-if="rec.type == 2 || rec.type == 3 || rec.universal_type == 1">{{rec.price_offered}}&nbsp;&#37;</span>
           </td>

           <td ng-click="detail(rec.id)" data-title="'Start Date'" sortable="'offer_date'" >
                {{rec.offer_date | date: dateFormats[defaultDateFormat]}}
           </td>
           <td ng-click="detail(rec.id)" data-title="'End Date'" sortable="'offer_valid_date'">
                {{rec.offer_valid_date | date: dateFormats[defaultDateFormat]}}
           </td>
           <!-- <td ng-click="detail(rec.id)" >
                {{rec.item_type}}
           </td> -->



        <td class="text-left " data-title="'Action'">
            <a ng-click="editForm(rec.id)" title="Edit" class="btn"><i class="fa fa-edit"></i></a>
            <a ng-click="delete(rec.id,$index,$data)" title="Delete" class="btn"><i class="fa fa-times"></i></a>
          </td>
        </tr>
        <!-- <tr ng-show="!$data"><td class="text-center" colspan="{{columns.length+1}}">No record found!</td></tr> -->
      </tbody>
    </table>

  </div>
</div>
</div>
</div>
</div>

<div class="row">
    <div class="col-md-12">
        <div class="widget">
            <div class="widget-body">
                <div class="row">
                    <div class="col-md-12">
                        <div class="panel-title2">
                            General
                        </div>
                        <div class="col-md-5">
                            <div class="form-group">
                                <label class="col-md-4 control-label">Supplier No. <span ng-if="moduleCodeType == 1"
                                          class="required">*</span></label>
                                <div class="col-md-8">
                                    <input type="hidden" ng-model="rec.type" />
                                    
                                    <input type="text" class="form-control"
                                        ng-model="rec.supplier_code"
                                        ng-if="moduleCodeType == 0"
                                        ng-readonly="product_type" />

                                    <input type="text" class="form-control" required
                                           ng-model="rec.supplier_code"
                                           ng-readonly="check_srm_readonly"                                           
                                           ng-if="moduleCodeType == 1" />

                                    <input type="hidden" ng-model="rec.code_type" />
                                    <input type="hidden" ng-model="rec.supplier_no" />
                                </div>
                            </div>
                            <div class="form-group">
                                <input type="hidden" id="id" ng-model="rec.id" class="form-control" />
                                <label class="col-md-4 control-label">Name
                                    <span class="required">*</span>
                                </label>

                                <div class="col-md-8">
                                    <input type="text" ng-model="rec.name" id="name" class="form-control" ng-readonly="check_srm_readonly" required/>
                                </div>
                            </div>
                            <!-- <div class="form-group">
                                    <label class="col-md-4 control-label">Previous Supplier Code </label>
    
                                    <div class="col-md-7">
                                        <input type="text" ng-model="rec.prev_code" id="prev_code" class="form-control"
                                               ng-readonly="check_srm_readonly"/>
                                    </div>
                                </div> -->
                            <div class="form-group">
                                <label class="col-md-4 control-label">Address Line 1</label>

                                <div class="col-md-8">
                                    <input type="text" ng-model="rec.address_1" id="address" class="form-control" ng-readonly="check_srm_readonly" placeholder="Address Line 1"
                                    />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-4 control-label">Address Line 2 </label>

                                <div class="col-md-8">
                                    <input type="text" ng-model="rec.address_2" id="address_2" class="form-control" ng-readonly="check_srm_readonly" placeholder="Address Line 2"
                                    />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-4 control-label"></label>

                                <div class="col-md-4 padr6">
                                    <input type="text" placeholder="City" title="City" ng-model="rec.city" id="city" class="form-control" ng-readonly="check_srm_readonly"
                                    />
                                </div>
                                <div class="col-md-4 padl6">
                                    <input type="text" ng-model="rec.county" id="county" class="form-control" ng-readonly="check_srm_readonly" placeholder="County"
                                        title="County" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-4 control-label"></label>

                                <div class="col-md-4 padr6">
                                    <input type="text" ng-model="rec.postcode" id="postcode" class="form-control crm-postcode" ng-readonly="check_srm_readonly"
                                        placeholder="Postcode" />
                                </div>

                                <div class="col-md-4 padl6">
                                    <ui-select ng-model="drp.country_id" ng-disabled="check_srm_readonly" ng-class="{'not-click-allow':disableClass > 0}">
                                        <ui-select-match placeholder="Select Country">{{$select.selected.name}}</ui-select-match>
                                        <ui-select-choices repeat="opt in country_type_arr | filter: $select.search">
                                            <div ng-bind-html="opt.name | highlight: $select.search"></div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-4 control-label">Telephone</label>
                                <div class="col-md-8">
                                     <input type="text" ng-model="rec.phone" id="Telephone" class="form-control" ng-readonly="check_srm_readonly" /> 
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-4 control-label">Company Email</label>
                                <div class="col-md-8">
                                     <input type="email" ng-model="rec.email" id="Email" placeholder="info@company.com" class="form-control" ng-readonly="check_srm_readonly" /> 
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-4 control-label">Fax</label>
                                <div class="col-md-8">
                                    <input type="text" ng-model="rec.fax" id="fax2" class="form-control" ng-readonly="check_srm_readonly"   />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-4 control-label">Web</label>
                                <div class="col-md-8">

                                    <div class="input-symbol">
                                        <!-- condition to create link only in view mode if link exists. -->
                                        <a href='{{rec.web_address}}' ng-if="rec.web_address.length>7 && check_srm_readonly" target='_blank' class="showpointer">
                                            <input type="text" ng-model="rec.web_address" id="web_address" class="form-control" ng-readonly="check_srm_readonly" ng-blur="set_link()"
                                                placeholder="https://" />
                                            <span>
                                                <i class="fa fa-external-link-square" aria-hidden="true"></i>
                                            </span>
                                        </a>

                                        <!-- condition to not create a link only in view mode if no link exists.  -->
                                        <input type="text" ng-if="(rec.web_address.length==7 || rec.web_address.length==0) && check_srm_readonly" ng-model="rec.web_address"
                                            id="web_address" class="form-control" ng-readonly="check_srm_readonly" ng-blur="set_link()"
                                            placeholder="https://" />

                                        <!-- condition to not create a link only in Edit mode.  -->
                                        <input type="text" ng-if="!check_srm_readonly" ng-model="rec.web_address" id="web_address" class="form-control" ng-readonly="check_srm_readonly"
                                            ng-blur="set_link()" placeholder="https://" />
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-4 control-label">Location Type</label>

                                <div class="col-md-8 pl0">
                                    <div class="input-symbol">
                                        <label class="col-md-4">
                                            <input type="checkbox" name="a" ng-model="rec.is_billing_address" ng-disabled="check_srm_readonly" id="genis_billing_address"
                                                ng-checked="rec.is_billing_address > 0 || rec.is_billing_address == true" class="">&nbsp;Billing</label>

                                        <label class="col-md-4 pl0">
                                            <input type="checkbox" name="c" ng-model="rec.is_invoice_address" ng-disabled="check_srm_readonly" id="genis_invoice_address"
                                                ng-checked="rec.is_invoice_address > 0 || rec.is_invoice_address == true" class=""> &nbsp;Payment</label>

                                        <label class="col-md-4 pl0">
                                            <input type="checkbox" name="b" ng-model="rec.is_delivery_collection_address" ng-disabled="check_srm_readonly" id="genis_delivery_collection_address"
                                                ng-checked="rec.is_delivery_collection_address > 0 || rec.is_delivery_collection_address == true" class="">&nbsp;Collection</label>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-4 control-label">Status <span class="required">*</span> </label>

                                <div class="col-md-8">

                                    <ui-select ng-model="drp.status_ids" ng-disabled="check_srm_readonly">
                                        <ui-select-match placeholder="Select Status">{{$select.selected.title}}</ui-select-match>
                                        <ui-select-choices repeat="opt in status_list | filter: $select.search">
                                            <div ng-bind-html="opt.title | highlight: $select.search"></div>
                                        </ui-select-choices>
                                    </ui-select>

                                    <!--ng-change="addNewPredefinedPopup(drp.status_ids, 'STATUS', 'Status', drp)"-->
                                </div>
                                <!-- <div class="col-md-2 adj-btn">
                                    <button class="btn btn-icon pull-right" type="button" ng-click="!check_srm_readonly && historytype('Status')" ng-disabled="check_srm_readonly">
                                        <i class="fa fa-history" aria-hidden="true"></i>
                                    </button>
                                </div> -->
                            </div>
                            <div class="form-group" ng-show="status_change_date>0">
                                <label class="col-md-4 control-label ">
                                    <!--{{rec.status_ids.name}} -->Status Change Date </label>

                                <div class="col-md-8">
                                    <input jqdatepicker class="2date-picker form-control" ng-model="rec.status_date" readonly>
                                    <span class="fa fa-calendar new_ca form-control-feedback"></span>
                                    <!--<div class="input-group">
                                        <input type="text" class="form-control" ng-model="rec.status_date" datepicker-popup="{{datePicker.format}}" datepicker-options="datePicker.options" is-open="datePicker.instances['status_date']" close-text="Close"
            
                                                         id="sdate"  readonly data-parsley-pattern="/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}|(?:(0[1-9]|1[012])[\- \/.](0[1-9]|[12][0-9]|3[01])[\- \/.](19|20)[0-9]{2})|[0-9]{4}/(0[1-9]|1[0-2])/(0[1-9]|[1-2][0-9]|3[0-1])$/" />
                                                                <span class="input-group-btn">
                                                                <button type="button"   class="btn btn-default  " ng-click="datePicker.open($event, 'status_date')"    ><i class="fa fa-calendar"></i></button>
                                                                </span> </div>-->
                                </div>
                            </div>
                        </div>
                        <div class="col-md-5 col-md-offset-2">
                            <div class="form-group">
                                <label class="col-md-4 control-label">Purchaser <!-- Code --> </label>
                                <div class="col-md-8">

                                    <div class="input-symbol">
                                        <input type="text" ng-click="get_empl_list('purchaser_code')" ng-model="rec.purchaser_code" id="purchaser_code" class="form-control"
                                            ng-disabled="check_srm_readonly" />
                                        <input type="hidden" ng-model="rec.purchaser_code_id" id="purchaser_code_id" class="form-control" ng-readonly="check_srm_readonly"
                                        />
                                        <span>
                                            <i class="fa fa-external-link"></i>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-4 control-label">Currency  <span class="required">*</span></label>

                                <div class="col-md-8">
                                    <ui-select ng-model="drp.currency" ng-disabled="check_srm_readonly" ng-change="addNewCurrencyPopup(drp)">
                                        <ui-select-match placeholder="Select Currency">{{$select.selected.code}}</ui-select-match>
                                        <ui-select-choices repeat="opt in arr_currency | filter: $select.search">
                                            <div ng-bind-html="opt.code | highlight: $select.search"></div>
                                        </ui-select-choices>
                                    </ui-select>
                                    <!--select2me -->
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-4 control-label">Segment </label>

                                <div class="col-md-8">
                                    <ui-select ng-model="drp.segment_id" ng-disabled="check_srm_readonly" ng-class="{'not-click-allow':disableClass > 0}">
                                        <ui-select-match placeholder="Select Segment">{{$select.selected.title}}
                                        </ui-select-match>
                                        <ui-select-choices repeat="opt in segment_supplier_arr | filter: $select.search">
                                            <div ng-bind-html="opt.title | highlight: $select.search"></div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-4 control-label">Territory</label>

                                <div class="col-md-8">
                                    <ui-select ng-model="drp.region_id" ng-disabled="check_srm_readonly" ng-class="{'not-click-allow':disableClass > 0}">
                                        <ui-select-match placeholder="Select Territory">{{$select.selected.title}}
                                        </ui-select-match>
                                        <ui-select-choices repeat="opt in region_supplier_arr | filter: $select.search">
                                            <div ng-bind-html="opt.title | highlight: $select.search"></div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-4 control-label">Selling Group </label>

                                <div class="col-md-8">
                                    <ui-select ng-model="drp.selling_grp_id" ng-disabled="check_srm_readonly" ng-class="{'not-click-allow':disableClass > 0}">
                                        <ui-select-match placeholder="Select Selling Group">{{$select.selected.title}}
                                        </ui-select-match>
                                        <ui-select-choices repeat="opt in selling_group_arr | filter: $select.search">
                                            <div ng-bind-html="opt.title | highlight: $select.search"></div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-4 control-label"> Classification</label>
                                <div class="col-md-8">
                                    <ui-select ng-model="drp.srm_classification" ng-disabled="check_srm_readonly">
                                        <ui-select-match placeholder="Select Classification">{{$select.selected.title}}</ui-select-match>
                                        <ui-select-choices repeat="opt in arr_supplier_classification | filter: $select.search">
                                            <div ng-bind-html="opt.title | highlight: $select.search"></div>
                                        </ui-select-choices>
                                    </ui-select>
                                    <!-- arr_srm_classification -->
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="col-md-4 control-label ">Last PO Date </label>

                                <div class="col-md-8">
                                    <input class=" form-control" ng-model="last_po_date" readonly>
                                    <span class="fa fa-calendar  new_ca  form-control-feedback"></span>
                                    <!--<input readonly type="text" data-parsley-trigger="keyup" ng-model="last_po_date" class="form-control input_text">-->
                                </div>
                            </div>
                            <div class="form-group" style="margin-bottom: 0 !important;">
                                <label class="col-md-4 control-label">Social Media</label>
                                <div class="col-md-8">
                                    <x-dynamic-select lookup-table="social_medias_general_form" fields="socialMediasGeneral" property-name="supplierSM" qty="{{qty}}" default-option-index="{{defaultOption}}"
                                        read-only="check_srm_readonly">
                                    </x-dynamic-select>
                                </div>
                                <!--  <div><pre>{{socialMediasGeneral | json}}</pre></div> -->
                            </div>
                            <div class="form-group">
                                <label class="col-md-4 control-label">Additional Information</label>
                                <div class="col-md-8">
                                      <input type="text" maxlength="250" ng-model="rec.additionalInformation" id="additionalInformation" class="form-control" ng-readonly="check_srm_readonly"   
                                    /> 
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-4 control-label">Anonymous Supplier</label>

                                <div class="col-md-8 pl0">
                                    <div class="input-symbol">
                                        <label class="col-md-4" style="    margin-top: 6px;">
                                            <input type="checkbox" name="general_anonymous_supplier" id="general_anonymous_supplier"
                                                ng-model="rec.anonymous_supplier1"                                   
                                                ng-checked="rec.anonymous_supplier1" 
                                                ng-disabled="check_srm_readonly" ><!-- &nbsp;--></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel panel-default padb0" style="    margin-top: 13px;">
                <div class="panel-body" >
                    <div class="col-md-5">
                        <div class="form-group">
                            <label class="col-md-4 control-label">Primary Contact Name
                                <span ng-if="rec.cjob_title.length>0 || rec.cdirect_line.length>0 || rec.cdirect_line>0 || rec.cmobile.length>0 ||
                                rec.cemail.length>0 || rec.cphone.length>0 || rec.cfax.length>0 || drp.pref_mthod_of_comm || rec.cbooking_instructions.length>0 || 
                                (socialMediasContactGeneral.SRMprimaryContactSM.length>0 && (socialMediasContactGeneral.SRMprimaryContactSM[0].value ||
                                socialMediasContactGeneral.SRMprimaryContactSM[1].value || socialMediasContactGeneral.SRMprimaryContactSM[2].value ||
                                socialMediasContactGeneral.SRMprimaryContactSM[3].value || socialMediasContactGeneral.SRMprimaryContactSM[4].value))"
                                    class="required">*</span>
                            </label>

                            <div class="col-md-8">
                                <input type="text" ng-model="rec.contact_person" id="contact_person" class="form-control" ng-readonly="check_srm_readonly"
                                    ng-required="rec.cjob_title.length>0 || rec.cdirect_line.length>0 || 
                                        rec.cdirect_line>0 || rec.cmobile.length>0 || rec.cemail.length>0 || rec.cphone.length>0 || rec.cfax.length>0 || 
                                        drp.pref_mthod_of_comm || rec.cbooking_instructions.length>0 || 
                                        (socialMediasContactGeneral.SRMprimaryContactSM.length>0 && (socialMediasContactGeneral.SRMprimaryContactSM[0].value ||
                                        socialMediasContactGeneral.SRMprimaryContactSM[1].value || socialMediasContactGeneral.SRMprimaryContactSM[2].value ||
                                        socialMediasContactGeneral.SRMprimaryContactSM[3].value || socialMediasContactGeneral.SRMprimaryContactSM[4].value))"
                                />
                                <input type="hidden" ng-model="rec.alt_contact_id" id="alt_contact_id" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-4 control-label">Job Title </label>

                            <div class="col-md-8">
                                <input type="text" ng-model="rec.cjob_title" id="job_title" class="form-control" ng-readonly="check_srm_readonly" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-4 control-label">Direct Line </label>

                            <div class="col-md-8">
                                <input type="text" ng-model="rec.cdirect_line" id="direct_line" class="form-control" ng-readonly="check_srm_readonly" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-4 control-label">Mobile </label>

                            <div class="col-md-8">
                                <input type="text" ng-model="rec.cmobile" id="mobile" class="form-control" ng-readonly="check_srm_readonly" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-4 control-label">Telephone </label>

                            <div class="col-md-8">
                                <input type="text" ng-model="rec.cphone" id="cTelephone" class="form-control" ng-readonly="check_srm_readonly"   />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-4 control-label">Fax </label>

                            <div class="col-md-8">
                                <input type="text" ng-model="rec.cfax" id="fax" class="form-control" ng-readonly="check_srm_readonly"  />
                            </div>
                        </div>
                        <div class="form-group">
                                <label class="col-md-4 control-label">Email </label>
    
                                <div class="col-md-8">
                                    <div class="input-symbol">
                                        <input type="text" ng-model="rec.cemail" id="email" data-parsley-type="email" name="email" class="form-control" ng-readonly="check_srm_readonly"
                                            placeholder="e.g. myname@example.com" data-email-msg="Email format is not valid" />
    
                                        <span>
                                            <a ng-if="rec.cemail != undefined" href="mailto:{{rec.cemail}}?Subject=silverow CRM&Body=silverow CRM">
                                                <i style=" color: #3693cf;" class="fa fa-envelope-o" aria-hidden="true"> </i>
                                            </a>
                                        </span>
                                    </div>
                                </div>
                            </div>

                    </div>

                    <div class="col-md-5 col-md-offset-2">
                            <div class="form-group" ng-if="rec.totalLocAssigned>0">
                                    <label class="col-md-4 control-label">Assigned Location(s)</label>
        
                                    <div class="col-md-2">
                                        <button style=" line-height: 18px;" class="btn btn-icon pull-right" type="button" ng-click="getGenAssinLoc(rec.alt_contact_id)"
                                            title="Total Record: " >
                                            <span ng-if="!loadingprimaryLocModal">{{rec.totalLocAssigned}}</span>
                                            <span class="fa fa-spinner fa-spin text-center" ng-if="loadingprimaryLocModal"></span>
                                        </button>
                                    </div>
                                </div>
                            <div class="form-group">
                                    <label class="col-md-4 control-label" title="Preferred Method Of Communication">Pref. Method Of Comm.</label>
        
                                    <div class="col-md-8">
                                        <ui-select ng-model="drp.pref_mthod_of_comm" ng-change="addNewPredefinedPopup(drp.pref_mthod_of_comm, 'PREFER_METHOD', 'Preferred Method Of Communication', drp)"
                                            ng-disabled="check_srm_readonly" ng-class="{'not-click-allow':disableClass > 0}">
                                            <ui-select-match placeholder="Prefer Method Of Communication">{{$select.selected.title}}</ui-select-match>
                                            <ui-select-choices repeat="opt in arr_pref_method_comm | filter: $select.search">
                                                <div ng-bind-html="opt.title | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                </div>




                        <div class="form-group" style="margin-bottom: 0 !important;">
                            <label class="col-md-4 control-label">Social Media</label>
                            <div class="col-md-8">
                                <x-dynamic-select lookup-table="social_medias_contact_form" fields="socialMediasContactGeneral" property-name="SupplierPrimaryContactSM"
                                    qty="{{qty}}" default-option-index="{{defaultOption}}" read-only="check_srm_readonly">
                                </x-dynamic-select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-4 control-label">Primary Contact Notes</label>

                            <div class="col-md-8">
                                <textarea style="height:100px !important; resize:none; " ng-model="rec.primaryc_notes" id="cnotes" class="form-control"
                                    ng-disabled="check_srm_readonly" maxlength="250" />
                                </textarea>
                                <!-- <span class="word-counter">{{rec.cbooking_instructions.length}}/100</span>-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 affix">
                    <div class="pull-right">
                        <div class="dropdown ib" ng-show="rec.id > 0 &amp;&amp; crm_general_tab_module > 0">
                            <button class="dte-btn dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="false">
                                <i class="dte-ico"></i>
                            </button>
                            <ul class="dropdown-menu dte animated fadeIn">
                                <span ng-show="rec.id>0 &&  supplier_general_tab_module>0" ng-click="set_document_internal(supplier_general_tab_module)">
                                    <i class="fa fa-file-text-o" aria-hidden="true"></i> Add Document</span>

                                <span>
                                    <i class="fa fa-check" aria-hidden="true"></i> Add Task</span>

                                <span ng-show="rec.id>0 &&  supplier_general_tab_module>0" ng-click="ComposeEmail(supplier_general_tab_module)">
                                    <i class="fa fa-file-text-o" aria-hidden="true"></i>Compose Email</span>
                            </ul>
                        </div>
                        <!-- <button class="btn btn-default2 active-btns" ng-show="rec.type==3" ng-if="allowconvert_supplier_general_tab" type="button" ng-click="convert(rec.id)" ng-disabled="!check_srm_readonly"> Convert to SRM
                        </button> -->
                        <button class="btn btn-delete active-btns" type="button" ng-if="rec.id > 0 && allowdelete_supplier_general_tab && !check_srm_readonly && rec.type" ng-click="delete(rec.id)">
                            Delete
                        </button>
                        <button class="btn btn-submit pic_block" type="submit" ng-if="!check_srm_readonly">
                            <i class="fa fa-check fa_display"></i> Save
                        </button>
                        <button class="btn btn-edit" type="button" ng-click="showEditForm()" ng-if="check_srm_readonly && allowedit_supplier_general_tab">
                            <i class="fa fa-edit fa_display"></i> Edit
                        </button>
                        <button class="btn btn-cancel" type="button" ui-sref="app.supplier()">
                            <i class="fa fa-undo fa_display"></i> Cancel
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<style>
    .selectize-input {
        border: 1px solid #d4d4d4;
        padding: 8px 8px;
        display: inline-block;
        width: 100%;
        overflow: hidden;
        position: relative;
        z-index: 1;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        box-shadow: none;
        border-radius: 2px;
        height: 83px !important;
    }
</style>
<button type="button" id="modalallevenstbtn" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#modalallevents" style="display: none;"> Open All Events </button>
<div class="modal fade" id="modalallevents">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="alleventstitle"></h4>
            </div>
            <div class="modal-body" style="padding: 15px;">
                <div class="row">
                    <div class="col-sm-12" id="alleventsbody"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn default width_80" data-dismiss="modal"><i class="fa fa-undo fa_display"></i> Cancel</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<button type="button" id="modaleventbtn" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#modalevent" style="display: none;"> Open Event </button>
<div class="modal fade" id="modalevent">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="eventTitle"></h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-4">
                        <p><strong>Event Start Date: </strong><span id="eventFromDate"></span></p>
                        <p><strong>Event End Date: </strong><span id="eventToDate"></span></p>
                        <p><strong>Event Colour: </strong><span id="eventColor" class="" style="width: 50px !important; float: right; margin-right: 30px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
                        <p><strong>Notification: </strong><span id="eventNotification"></span></p>
                        <p><strong>Hours: </strong><span id="eventHours"></span></p>
                    </div>
                    <div class="col-sm-4">
                        <p><strong>Event Start Time: </strong><span id="eventFromTime"></span></p>
                        <p><strong>Event End Time: </strong><span id="eventToTime"></span></p>
                        <p><strong>All Day: </strong><span id="eventAllDay"></span></p>
                        <p><strong>Reminder: </strong><span id="eventReminder"></span></p>
                        <p><strong>Minutes: </strong><span id="eventMinutes"></span></p>
                    </div>
                    <div class="col-sm-4">
                        <p><strong>Location: </strong><span id="eventLocation"></span></p>
                        <p><strong>Recurrence: </strong><span id="eventReoccurance"></span></p>
                        <p><strong>Show Me As: </strong><span id="eventShowMeAs"></span></p>
                        <p><strong>Days / Weeks: </strong><span id="eventDayOrWeeks"></span></p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <p><strong>Attendees: </strong><span id="eventInviteAttendees"></span></p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group"> <strong style="float: left;">Files: </strong>
                            <div ng-repeat="file in openEvent.attachedFiles" style="float: left; margin-left: 10px;">
                                <a href="{{$rootScope.basePath + 'upload/calendar_event_attachment/' + file.newname}}" target="_blank"> <span ng-bind="file.name"></span> </a>
                            </div>
                        </div>
                    </div>
                </div>
                <hr class="hr2">
                <div class="row">
                    <div class="col-sm-12">
                        <p><strong>Description: </strong><span id="eventBody"></span></p>
                    </div>
                </div>
                <hr class="hr2">
                <div class="row">
                    <div class="col-sm-12">
                        <h4 class="modal-title">Recurrence</h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4">
                        <p><strong>Repeats: </strong><span id="openRepeats"></span></p>
                        <p><strong>Repeat by: </strong><span id="openRepeatBy"></span></p>
                        <p><strong>Ends On: </strong><span id="openRepeatEndsOn"></span></p>
                    </div>
                    <div class="col-sm-4">
                        <p><strong>Repeat every: </strong><span id="openRepeatEvery"></span></p>
                        <p><strong>Start on: </strong><span id="openRepeatStartOn"></span></p>
                        <p><strong>Ends After: </strong><span id="openRepeatEndsAfter"></span></p>
                    </div>
                    <div class="col-sm-4">
                        <p><strong>Repeat On: </strong><span id="openRepeatOn"></span></p>
                        <p><strong>Ends: </strong><span id="openRepeatEnds"></span></p>
                    </div>
                </div>
                <input type="hidden" ng-modal="openEvent.eventId" id="eventId" value="" />
                <input type="hidden" ng-modal="openEvent.etid" id="etid" value="" />
            </div>
            <div class="modal-footer">
                <!--<button type="button" class="btn btn-info btn_blue" ng-click="showCustomRightClickMenu(1, openEvent.etid, openEvent.eventId, 0);" ng-show=""><i class="fa fa-edit"></i> Edit</button>
                    <button type="button" class="btn btn-info btn_blue" ng-click="showCustomRightClickMenu(1, openEvent.etid, openEvent.eventId, 2);"><i class="fa fa-times"></i> Delete</button>-->
                <button type="button" class="btn btn-cancel" data-dismiss="modal">Cancel</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<button type="button" id="modaladdeventbtn" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#modaladdevent" style="display: none;"> Add Event </button>
<div class="modal fade" id="modaladdevent" tabindex="-1" role="dialog" aria-labelledby="modaladdevent" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Add Event</h4>
            </div>
            <div class="modal-body" style="padding-top: 0px !important;overflow:hidden;">
                <input type="hidden" ng-model="addEvent.ownerId" id="ownerId" />
                <p ng-bind="addEvent.errorMessage" style="text-align: center; color: #FF0000;"></p>
                <p ng-bind="addEvent.successMessage" style="text-align: center; color: #00FF00;"></p>
                <div>

                    <div class="col-md-4 pad-l-r">
                        <div class="form-group">
                            <div class="input-symbol">
                                <input type="text" class="form-control" ng-model="addEvent.title" id="addEventTitle" placeholder="Untitled Event" autofocus>
                                <span class="fa fa-sticky-note"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 pad-l-r">
                        <div class="form-group">
                            <div class="input-symbol">
                                <input type="text" class="form-control" ng-model="addEvent.location" placeholder="Enter a location">
                                <span class="fa fa-map-marker"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 pad-l-r">
                        <div class="d-i">
                            <input type="checkbox" ng-model="addEvent.allDay" id="addEventAllDay" onclick="AllDay('#addEventAllDay', '#addEventFromTimeDiv', '#addEventToTimeDiv');" />
                            <span class="control-label3">All Day</span>
                        </div>

                        <div class="d-i">
                            <input type="checkbox" ng-model="addEvent.reoccurance" id="reoccuranceId" ng-click="OpenRepeatModel();" />
                            <span class="control-label3">Repeat</span>
                        </div>

                    </div>
                    <div class="col-md-12">
                    </div>
                    <div class="col-md-2 pad-l-r">
                        <div class="input-symbol">
                            <input type="text" class="form-control"  jqdatepicker ng-model="addEvent.fromDate" id="addEventFromDate" placeholder="Date" title="Start Date">
                            <span class="fa fa-calendar"></span>
                        </div>
                    </div>
                    <div class="col-md-2 pad-l-r" id="addEventFromTimeDiv" style="width: 15%;">
                        <div class="form-group">
                            <select class="form-control" ng-model="addEvent.fromTime" id="addEventFromTime" title="Start Time">
                <option>Please Select Time</option>
                <option value="00 : 00 AM">00:00 AM</option>
                <option value="00 : 30 AM">00:30 AM</option>
                <option value="01 : 00 AM">01:00 AM</option>
                <option value="01 : 30 AM">01:30 AM</option>
                <option value="02 : 00 AM">02:00 AM</option>
                <option value="02 : 30 AM">02:30 AM</option>
                <option value="03 : 00 AM">03:00 AM</option>
                <option value="03 : 30 AM">03:30 AM</option>
                <option value="04 : 00 AM">04:00 AM</option>
                <option value="04 : 30 AM">04:30 AM</option>
                <option value="05 : 00 AM">05:00 AM</option>
                <option value="05 : 30 AM">05:30 AM</option>
                <option value="06 : 00 AM">06:00 AM</option>
                <option value="06 : 30 AM">06:30 AM</option>
                <option value="07 : 00 AM">07:00 AM</option>
                <option value="07 : 30 AM">07:30 AM</option>
                <option value="08 : 00 AM">08:00 AM</option>
                <option value="08 : 30 AM">08:30 AM</option>
                <option value="09 : 00 AM">09:00 AM</option>
                <option value="09 : 30 AM">09:30 AM</option>
                <option value="10 : 00 AM">10:00 AM</option>
                <option value="10 : 30 AM">10:30 AM</option>
                <option value="11 : 00 AM">11:00 AM</option>
                <option value="11 : 30 AM">11:30 AM</option>
                <option value="12 : 00 PM">12:00 PM</option>
                <option value="12 : 30 PM">12:30 PM</option>
                <option value="01 : 00 PM">01:00 PM</option>
                <option value="01 : 30 PM">01:30 PM</option>
                <option value="02 : 00 PM">02:00 PM</option>
                <option value="02 : 30 PM">02:30 PM</option>
                <option value="03 : 00 PM">03:00 PM</option>
                <option value="03 : 30 PM">03:30 PM</option>
                <option value="04 : 00 PM">04:00 PM</option>
                <option value="04 : 30 PM">04:30 PM</option>
                <option value="05 : 00 PM">05:00 PM</option>
                <option value="05 : 30 PM">05:30 PM</option>
                <option value="06 : 00 PM">06:00 PM</option>
                <option value="06 : 30 PM">06:30 PM</option>
                <option value="07 : 00 PM">07:00 PM</option>
                <option value="07 : 30 PM">07:30 PM</option>
                <option value="08 : 00 PM">08:00 PM</option>
                <option value="08 : 30 PM">08:30 PM</option>
                <option value="09 : 00 PM">09:00 PM</option>
                <option value="09 : 30 PM">09:30 PM</option>
                <option value="10 : 00 PM">10:00 PM</option>
                <option value="10 : 30 PM">10:30 PM</option>
                <option value="11 : 00 PM">11:00 PM</option>
                <option value="11 : 30 PM">11:30 PM</option>
              </select>
                        </div>
                    </div>
                    <div class="col-md-1" style="padding-left: 0px;padding-right: 0px;width: 3%;">
                        <div class="to">
                            To
                        </div>
                    </div>
                    <div class="col-lg-2  pad-l-r">
                        <div class="form-group">
                            <div class="input-symbol">
                                <input type="text" class="form-control"jqdatepicker ng-model="addEvent.toDate" id="addEventToDate" placeholder="Date" title="End Date">
                                <span class="fa fa-calendar"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-2  pad-l-r" id="addEventToTimeDiv" style="width: 15.3%;">
                        <div class="form-group">
                            <select class="form-control" ng-model="addEvent.toTime" id="addEventToTime" title="End Time">
                <option value="">Please Select Time</option>
                <option value="00 : 00 AM">00:00 AM</option>
                <option value="00 : 30 AM">00:30 AM</option>
                <option value="01 : 00 AM">01:00 AM</option>
                <option value="01 : 30 AM">01:30 AM</option>
                <option value="02 : 00 AM">02:00 AM</option>
                <option value="02 : 30 AM">02:30 AM</option>
                <option value="03 : 00 AM">03:00 AM</option>
                <option value="03 : 30 AM">03:30 AM</option>
                <option value="04 : 00 AM">04:00 AM</option>
                <option value="04 : 30 AM">04:30 AM</option>
                <option value="05 : 00 AM">05:00 AM</option>
                <option value="05 : 30 AM">05:30 AM</option>
                <option value="06 : 00 AM">06:00 AM</option>
                <option value="06 : 30 AM">06:30 AM</option>
                <option value="07 : 00 AM">07:00 AM</option>
                <option value="07 : 30 AM">07:30 AM</option>
                <option value="08 : 00 AM">08:00 AM</option>
                <option value="08 : 30 AM">08:30 AM</option>
                <option value="09 : 00 AM">09:00 AM</option>
                <option value="09 : 30 AM">09:30 AM</option>
                <option value="10 : 00 AM">10:00 AM</option>
                <option value="10 : 30 AM">10:30 AM</option>
                <option value="11 : 00 AM">11:00 AM</option>
                <option value="11 : 30 AM">11:30 AM</option>
                <option value="12 : 00 PM">12:00 PM</option>
                <option value="12 : 30 PM">12:30 PM</option>
                <option value="01 : 00 PM">01:00 PM</option>
                <option value="01 : 30 PM">01:30 PM</option>
                <option value="02 : 00 PM">02:00 PM</option>
                <option value="02 : 30 PM">02:30 PM</option>
                <option value="03 : 00 PM">03:00 PM</option>
                <option value="03 : 30 PM">03:30 PM</option>
                <option value="04 : 00 PM">04:00 PM</option>
                <option value="04 : 30 PM">04:30 PM</option>
                <option value="05 : 00 PM">05:00 PM</option>
                <option value="05 : 30 PM">05:30 PM</option>
                <option value="06 : 00 PM">06:00 PM</option>
                <option value="06 : 30 PM">06:30 PM</option>
                <option value="07 : 00 PM">07:00 PM</option>
                <option value="07 : 30 PM">07:30 PM</option>
                <option value="08 : 00 PM">08:00 PM</option>
                <option value="08 : 30 PM">08:30 PM</option>
                <option value="09 : 00 PM">09:00 PM</option>
                <option value="09 : 30 PM">09:30 PM</option>
                <option value="10 : 00 PM">10:00 PM</option>
                <option value="10 : 30 PM">10:30 PM</option>
                <option value="11 : 00 PM">11:00 PM</option>
                <option value="11 : 30 PM">11:30 PM</option>
              </select>
                        </div>
                    </div>
                    <div class="col-lg-3" style="padding-left: 3px;padding-right: 0px;width: 29.4%;">
                        <div class="form-group">
                            <select ng-model="addEvent.showMeAs" class="form-control" title="Show me as">
                <option value="" disabled selected>Show me as</option>
                <option>Busy</option>
                <option>Out of Office</option>
                <option>Free</option>
                <option>Available</option>
                <option>Meeting for the event selected</option>
              </select>
                        </div>
                    </div>
                    <div class="col-md-6 pad-l-r">
                        <div>
                            <div class="form-group" id="invite">
                                <label class="control-label2">Invite Attendees  </label>
                                <div class="demo" style="padding-top: 0px; padding-bottom: 0px;">
                                    <div class="control-group">
                                        <select id="select-invite" class="contacts" placeholder="" ng-model="addEvent.inviteEmails">
                    </select>
                                    </div>
                                </div>
                                <script type="text/javascript">
                                    setTimeout(function() {
                                        var REGEX_EMAIL = '([a-z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+)*@' +
                                            '(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)';
                                        var formatName = function(item) {
                                            return $.trim((item.first_name || '') + ' ' + (item.last_name || ''));
                                        };
                                        $selectinvite = $('#select-invite').selectize({
                                            persist: false,
                                            maxItems: null,
                                            openOnFocus: false,
                                            valueField: 'email',
                                            labelField: 'name',
                                            searchField: ['first_name', 'last_name', 'email'],
                                            sortField: [{
                                                    field: 'first_name',
                                                    direction: 'asc'
                                                },
                                                {
                                                    field: 'last_name',
                                                    direction: 'asc'
                                                }
                                            ],
                                            options: $.parseJSON($('#contacts123').val()), //$('[ng-controller="MailController"]').scope().contacts,
                                            render: {
                                                item: function(item, escape) {
                                                    var name = formatName(item);
                                                    return '<div>' +
                                                        (name ? '<span class="name">' + escape(name) + '</span>' : '') +
                                                        (item.email ? '<span class="email">' + escape(item.email) + '</span>' : '') +
                                                        '</div>';
                                                },
                                                option: function(item, escape) {
                                                    var name = formatName(item);
                                                    var label = name || item.email;
                                                    var caption = name ? item.email : null;
                                                    return '<div>' +
                                                        '<span class="label">' + escape(label) + '</span>' +
                                                        (caption ? '<span class="caption">' + escape(caption) + '</span>' : '') +
                                                        '</div>';
                                                }
                                            },
                                            createFilter: function(input) {
                                                var regexpA = new RegExp('^' + REGEX_EMAIL + '$', 'i');
                                                var regexpB = new RegExp('^([^<]*)\<' + REGEX_EMAIL + '\>$', 'i');
                                                return regexpA.test(input) || regexpB.test(input);
                                            },
                                            create: function(input) {
                                                if ((new RegExp('^' + REGEX_EMAIL + '$', 'i')).test(input)) {
                                                    return {
                                                        email: input
                                                    };
                                                }
                                                var match = input.match(new RegExp('^([^<]*)\<' + REGEX_EMAIL + '\>$', 'i'));
                                                if (match) {
                                                    var name = $.trim(match[1]);
                                                    var pos_space = name.indexOf(' ');
                                                    var first_name = name.substring(0, pos_space);
                                                    var last_name = name.substring(pos_space + 1);
                                                    return {
                                                        email: match[2],
                                                        first_name: first_name,
                                                        last_name: last_name
                                                    };
                                                }
                                                alert('Invalid email address.');
                                                return false;
                                            }
                                        });
                                        $("#invite .selectize-input").on('change', function() {
                                            $("#select-invite")[0].selectize.open();
                                        });
                                        $("#clearadd").on("click", function() {
                                            var selectizeInvite = $selectinvite[0].selectize;
                                            selectizeInvite.clear();


                                        });
                                    }, 1000);
                                </script>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 pad-l-r">
                        <div class="form-group">
                            <label class="control-label2">Notification</label>
                            <select ng-model="addEvent.notificationType" class="form-control">
                <option value="" disabled selected>Notification</option>
                <option value="1">Pop-up</option>
                <option value="2">Email</option>
              </select>
                        </div>
                    </div>
                    <div class="col-md-3 pad-l-r">
                        <div class="form-group">
                            <div class="input-symbol">
                                <label class="control-label2">Reminder</label>
                                <input type="number" ng-model="addEvent.remind" class="form-control" min="0" />
                                <span class="fa fa-bell" style="    top: 50px;"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-2 pad-l-r">
                        <div class="form-group">
                            <select ng-model="addEvent.daysOrWeeks" class="form-control">
                <option value="" disabled selected>Days/Weeks</option>
                <option value="1">Days</option>
                <option value="2">Weeks</option>
              </select>
                        </div>
                    </div>
                    <div class="col-lg-2 pad-l-r">
                        <div class="form-group">
                            <div class="input-symbol">
                                <input type="number" ng-model="addEvent.hours" class="form-control" min="0" placeholder="Hours" />
                                <span class="fa fa-clock-o"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2 pad-l-r">
                        <div class="form-group">
                            <div class="input-symbol">
                                <input type="number" ng-model="addEvent.minutes" class="form-control" min="0" placeholder="Minutes" />
                                <span class="fa fa-clock-o"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12"></div>
                    <div class="col-md-12 pad-l-r" style="margin-top: -16px;">
                        <div class="form-group">
                            <label class="control-label2">Description</label>
                            <textarea class="form-control" ng-model="addEvent.description" id="addEventDesc" placeholder=""></textarea>
                        </div>
                    </div>
                    <div class="col-md-12" style="padding-left: 5px;margin-top: -9px;">
                        <label class="control-label2" style="    margin-right: 13px;position: relative;top: 6px;">Event color</label>
                        <div class="custom-checkboxes" style="display:inline-block;">

                            <a href="javascript: void(0);" onclick="$('.ecolor').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');
                                    $('#color4').html('<i class=\'fa fa-check idp\'></i>');
                                    $('#addEventColor').val('label-info');
                                    return false;"> <span id="color4" class="ecolor label2 label-info"></span> </a>
                            <a href="javascript: void(0);" onclick="
                                    $('.ecolor').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');
                                    $('#color2').html('<i class=\'fa fa-check idp\'></i>');
                                    $('#addEventColor').val('label-primary');
                                    return false;"> <span id="color2" class="ecolor label2 label-primary">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> </a>
                            <a href="javascript: void(0);" onclick="
                                    $('.ecolor').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');
                                    $('#color3').html('<i class=\'fa fa-check idp\'></i>');
                                    $('#addEventColor').val('event-color-green');
                                    return false;"> <span id="color3" class="ecolor label2 event-color-green">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> </a>
                            <a href="javascript: void(0);" onclick="
                                    $('.ecolor').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');
                                    $('#color1').html('<i class=\'fa fa-check idp\'></i>');
                                    $('#addEventColor').val('event-color-brown');
                                    return false;"> <span id="color1" class="ecolor label2 event-color-brown">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> </a>
                            <a href="javascript: void(0);" onclick="
                                    $('.ecolor').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');
                                    $('#color5').html('<i class=\'fa fa-check idp\'></i>');
                                    $('#addEventColor').val('event-color-yellow');
                                    return false;"> <span id="color5" class="ecolor label2 event-color-yellow">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> </a>
                            <a href="javascript: void(0);" onclick="
                                    $('.ecolor').html('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');
                                    $('#color6').html('<i class=\'fa fa-check idp\'></i>');
                                    $('#addEventColor').val('event-color-red');
                                    return false;"> <span id="color6" class="ecolor label2 event-color-red">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> </a>
                        </div>
                        <input type="hidden" ng-model="addEvent.color" id="addEventColor" value="label-info">

                        <div class="form-group" ng-controller="DocUploadDocument_single" style="    display: inline-table;">
                            <b style="    margin-right: 14px;position: relative;top: 5px;">Attachment</b>
                            <div class="fileUpload btn btn_blue"  style=" margin-top: 10px;"> <span>Select File</span><span ng-show="image_error" style="color:#F00">Error in files uploading Please check Size and Format JPG, Word or PDF</span>
                                <input type="file" ngf-select="uploadFiles($file, $invalidFiles)" name="file" accept=".gif, .jpg, .png, .doc, .docx,.pdf" multiple class="upload" ngf-max-size="2MB" ngf-max-files="20" />
                                <input type="hidden" ng-model="addEvent.FileType">
                                <input type="hidden" ng-model="addEvent.newFileName">
                                <input type="hidden" ng-model="newFileName" />
                                <input type="hidden" ng-init="addEvent.newFileName = addEvent.newFileName" ng-model="addEvent.newFileName">
                            </div>
                            <br/>
                            <div class=" " ng-if="addEvent.newFileName"> <a href="{{imagePath +addEvent.newFileName}}" target="_blank"><span ng-bind="addEvent.fileName"></span></a> </div>
                        </div>

                    </div>

                </div>
                <div>

                </div>
            </div>
            <div class="modal-footer">
              <div ng-show="showSummary">
                  <div class="animated fadeIn" style="    padding-left: 4px;position: absolute;bottom:18px;">
                      <div class="form-group" style=" color: #2196F3;">
                          <label style="float: left; font-weight: bold !important; width: auto;">Summary:&nbsp;&nbsp;</label>
                          <b ng-bind="addEvent.repeat.summary" style="float: left;"></b>
                          <input type="hidden" ng-model="addEvent.repeat.summary">
                      </div>
                  </div>
              </div>
                <button type="button" class="btn btn-submit" ng-click="addEvent();">Save</button>
                <button type="button" class="btn btn-cancel" data-dismiss="modal" id="addEventClose">Cancel</button>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        function AllDay(id, fromTimeId, toTimeId) {
            if ($(id).is(':checked')) {
                $(fromTimeId).hide();
                $(toTimeId).hide();
            } else {
                $(fromTimeId).show();
                $(toTimeId).show();
            }
        }
    </script>
</div>
<button type="button" id="modalediteventbtn" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#modaleditevent" style="display: none;"> Edit Event </button>
<div class="modal fade" id="modaleditevent" tabindex="-1" role="dialog" aria-labelledby="modaleditevent" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Edit Event</h4>
            </div>
            <div class="modal-body" style="padding-top: 0px !important;">
                <input type="hidden" ng-model="editEvent.ownerId" id="ownerId" />
                <p ng-bind="editEvent.errorMessage" style="text-align: center; color: #FF0000;"></p>
                <p ng-bind="editEvent.successMessage" style="text-align: center; color: #00FF00;"></p>
                <div class="row">
                    <div class="col-lg-3 col-md-3">
                        <div class="form-group">
                            <label>Event Name <span style='color: #FF0000'>*</span></label>
                            <input type="text" class="form-control" ng-model="editEvent.title" id="editEventTitle">
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3">
                        <div class="form-group">
                            <label>Location <span style='color: #FF0000'>*</span></label>
                            <input type="text" class="form-control" ng-model="editEvent.location">
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 no-padding">
                        <div class="col-lg-12">
                            <div class="form-group" id="editinvite">
                                <label>Invite Attendees</label>
                                <!--<input type="text" class="form-control" ng-model="editEvent.inviteEmails" id="editEventInviteEmail"  placeholder="Type email">-->
                                <div class="demo" style="padding-top: 0px; padding-bottom: 0px;">
                                    <div class="control-group">
                                        <select id="select-edit-invite" class="contacts" placeholder="" ng-model="editEvent.inviteEmails">
                    </select>
                                    </div>
                                </div>
                                <script type="text/javascript">
                                    setTimeout(function() {
                                        var REGEX_EMAIL = '([a-z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+)*@' +
                                            '(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)';
                                        var formatName = function(item) {
                                            return $.trim((item.first_name || '') + ' ' + (item.last_name || ''));
                                        };
                                        $selecteditinvite = $('#select-edit-invite').selectize({
                                            persist: false,
                                            maxItems: null,
                                            openOnFocus: false,
                                            valueField: 'email',
                                            labelField: 'name',
                                            searchField: ['first_name', 'last_name', 'email'],
                                            sortField: [{
                                                    field: 'first_name',
                                                    direction: 'asc'
                                                },
                                                {
                                                    field: 'last_name',
                                                    direction: 'asc'
                                                }
                                            ],
                                            options: $.parseJSON($('#contacts123').val()), //$('[ng-controller="MailController"]').scope().contacts,
                                            render: {
                                                item: function(item, escape) {
                                                    var name = formatName(item);
                                                    return '<div>' +
                                                        (name ? '<span class="name">' + escape(name) + '</span>' : '') +
                                                        (item.email ? '<span class="email">' + escape(item.email) + '</span>' : '') +
                                                        '</div>';
                                                },
                                                option: function(item, escape) {
                                                    var name = formatName(item);
                                                    var label = name || item.email;
                                                    var caption = name ? item.email : null;
                                                    return '<div>' +
                                                        '<span class="label">' + escape(label) + '</span>' +
                                                        (caption ? '<span class="caption">' + escape(caption) + '</span>' : '') +
                                                        '</div>';
                                                }
                                            },
                                            createFilter: function(input) {
                                                var regexpA = new RegExp('^' + REGEX_EMAIL + '$', 'i');
                                                var regexpB = new RegExp('^([^<]*)\<' + REGEX_EMAIL + '\>$', 'i');
                                                return regexpA.test(input) || regexpB.test(input);
                                            },
                                            create: function(input) {
                                                if ((new RegExp('^' + REGEX_EMAIL + '$', 'i')).test(input)) {
                                                    return {
                                                        email: input
                                                    };
                                                }
                                                var match = input.match(new RegExp('^([^<]*)\<' + REGEX_EMAIL + '\>$', 'i'));
                                                if (match) {
                                                    var name = $.trim(match[1]);
                                                    var pos_space = name.indexOf(' ');
                                                    var first_name = name.substring(0, pos_space);
                                                    var last_name = name.substring(pos_space + 1);
                                                    return {
                                                        email: match[2],
                                                        first_name: first_name,
                                                        last_name: last_name
                                                    };
                                                }
                                                alert('Invalid email address.');
                                                return false;
                                            }
                                        });
                                        $("#editinvite .selectize-input").on('change', function() {
                                            $("#select-edit-invite")[0].selectize.open();
                                        });
                                        $("#clearedit").on("click", function() {
                                            setTimeout(function() {
                                                var mailsJson = $.parseJSON($('#clearedit').val());
                                                var selectizeEditInvite = $selecteditinvite[0].selectize;
                                                selectizeEditInvite.addOption(mailsJson);
                                                for (var j = 0; j < mailsJson.length; j++) {
                                                    selectizeEditInvite.addItem(mailsJson[j]['email']);
                                                }
                                            }, 1000);
                                        });
                                    }, 1000);
                                </script>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12 no-padding">
                        <div class="col-lg-1 col-md-1" style="padding-right: 0px;">
                            <div class="form-group">
                                <label>All Day</label>
                                <br/>
                                <input type="checkbox" ng-model="editEvent.allDay" id="editEventAllDay" onclick="AllDay('#editEventAllDay', '#editEventFromTimeDiv', '#editEventToTimeDiv');" ng-checked="editEvent.allDay == 1" />
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <div class="form-group">
                                <label>Event Start Date <span style='color: #FF0000'>*</span></label>
                                <input type="text" class="form-control" ng-model="editEvent.fromDate" id="editEventFromDate" placeholder="Date">
                            </div>
                        </div>
                        <div class="col-lg-2" id="editEventFromTimeDiv" ng-hide="editEvent.allDay == 1">
                            <div class="form-group">
                                <label>Event Start Time <span style='color: #FF0000'>*</span></label>
                                <select class="form-control" ng-model="editEvent.fromTime" id="editEventFromTime">
                  <option value="">Please Select Time</option>
                  <option value="00 : 00 AM">00:00 AM</option>
                  <option value="00 : 30 AM">00:30 AM</option>
                  <option value="01 : 00 AM">01:00 AM</option>
                  <option value="01 : 30 AM">01:30 AM</option>
                  <option value="02 : 00 AM">02:00 AM</option>
                  <option value="02 : 30 AM">02:30 AM</option>
                  <option value="03 : 00 AM">03:00 AM</option>
                  <option value="03 : 30 AM">03:30 AM</option>
                  <option value="04 : 00 AM">04:00 AM</option>
                  <option value="04 : 30 AM">04:30 AM</option>
                  <option value="05 : 00 AM">05:00 AM</option>
                  <option value="05 : 30 AM">05:30 AM</option>
                  <option value="06 : 00 AM">06:00 AM</option>
                  <option value="06 : 30 AM">06:30 AM</option>
                  <option value="07 : 00 AM">07:00 AM</option>
                  <option value="07 : 30 AM">07:30 AM</option>
                  <option value="08 : 00 AM">08:00 AM</option>
                  <option value="08 : 30 AM">08:30 AM</option>
                  <option value="09 : 00 AM">09:00 AM</option>
                  <option value="09 : 30 AM">09:30 AM</option>
                  <option value="10 : 00 AM">10:00 AM</option>
                  <option value="10 : 30 AM">10:30 AM</option>
                  <option value="11 : 00 AM">11:00 AM</option>
                  <option value="11 : 30 AM">11:30 AM</option>
                  <option value="12 : 00 PM">12:00 PM</option>
                  <option value="12 : 30 PM">12:30 PM</option>
                  <option value="01 : 00 PM">01:00 PM</option>
                  <option value="01 : 30 PM">01:30 PM</option>
                  <option value="02 : 00 PM">02:00 PM</option>
                  <option value="02 : 30 PM">02:30 PM</option>
                  <option value="03 : 00 PM">03:00 PM</option>
                  <option value="03 : 30 PM">03:30 PM</option>
                  <option value="04 : 00 PM">04:00 PM</option>
                  <option value="04 : 30 PM">04:30 PM</option>
                  <option value="05 : 00 PM">05:00 PM</option>
                  <option value="05 : 30 PM">05:30 PM</option>
                  <option value="06 : 00 PM">06:00 PM</option>
                  <option value="06 : 30 PM">06:30 PM</option>
                  <option value="07 : 00 PM">07:00 PM</option>
                  <option value="07 : 30 PM">07:30 PM</option>
                  <option value="08 : 00 PM">08:00 PM</option>
                  <option value="08 : 30 PM">08:30 PM</option>
                  <option value="09 : 00 PM">09:00 PM</option>
                  <option value="09 : 30 PM">09:30 PM</option>
                  <option value="10 : 00 PM">10:00 PM</option>
                  <option value="10 : 30 PM">10:30 PM</option>
                  <option value="11 : 00 PM">11:00 PM</option>
                  <option value="11 : 30 PM">11:30 PM</option>
                </select>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <div class="form-group">
                                <label>Event End Date <span style='color: #FF0000'>*</span></label>
                                <input type="text" class="form-control" ng-model="editEvent.toDate" id="editEventToDate" placeholder="Date">
                            </div>
                        </div>
                        <div class="col-lg-2" id="editEventToTimeDiv" ng-hide="editEvent.allDay == 1">
                            <div class="form-group">
                                <label>Event End Time <span style='color: #FF0000'>*</span></label>
                                <select class="form-control" ng-model="editEvent.toTime" id="editEventToTime">
                  <option value="">Please Select Time</option>
                  <option value="00 : 00 AM">00:00 AM</option>
                  <option value="00 : 30 AM">00:30 AM</option>
                  <option value="01 : 00 AM">01:00 AM</option>
                  <option value="01 : 30 AM">01:30 AM</option>
                  <option value="02 : 00 AM">02:00 AM</option>
                  <option value="02 : 30 AM">02:30 AM</option>
                  <option value="03 : 00 AM">03:00 AM</option>
                  <option value="03 : 30 AM">03:30 AM</option>
                  <option value="04 : 00 AM">04:00 AM</option>
                  <option value="04 : 30 AM">04:30 AM</option>
                  <option value="05 : 00 AM">05:00 AM</option>
                  <option value="05 : 30 AM">05:30 AM</option>
                  <option value="06 : 00 AM">06:00 AM</option>
                  <option value="06 : 30 AM">06:30 AM</option>
                  <option value="07 : 00 AM">07:00 AM</option>
                  <option value="07 : 30 AM">07:30 AM</option>
                  <option value="08 : 00 AM">08:00 AM</option>
                  <option value="08 : 30 AM">08:30 AM</option>
                  <option value="09 : 00 AM">09:00 AM</option>
                  <option value="09 : 30 AM">09:30 AM</option>
                  <option value="10 : 00 AM">10:00 AM</option>
                  <option value="10 : 30 AM">10:30 AM</option>
                  <option value="11 : 00 AM">11:00 AM</option>
                  <option value="11 : 30 AM">11:30 AM</option>
                  <option value="12 : 00 PM">12:00 PM</option>
                  <option value="12 : 30 PM">12:30 PM</option>
                  <option value="01 : 00 PM">01:00 PM</option>
                  <option value="01 : 30 PM">01:30 PM</option>
                  <option value="02 : 00 PM">02:00 PM</option>
                  <option value="02 : 30 PM">02:30 PM</option>
                  <option value="03 : 00 PM">03:00 PM</option>
                  <option value="03 : 30 PM">03:30 PM</option>
                  <option value="04 : 00 PM">04:00 PM</option>
                  <option value="04 : 30 PM">04:30 PM</option>
                  <option value="05 : 00 PM">05:00 PM</option>
                  <option value="05 : 30 PM">05:30 PM</option>
                  <option value="06 : 00 PM">06:00 PM</option>
                  <option value="06 : 30 PM">06:30 PM</option>
                  <option value="07 : 00 PM">07:00 PM</option>
                  <option value="07 : 30 PM">07:30 PM</option>
                  <option value="08 : 00 PM">08:00 PM</option>
                  <option value="08 : 30 PM">08:30 PM</option>
                  <option value="09 : 00 PM">09:00 PM</option>
                  <option value="09 : 30 PM">09:30 PM</option>
                  <option value="10 : 00 PM">10:00 PM</option>
                  <option value="10 : 30 PM">10:30 PM</option>
                  <option value="11 : 00 PM">11:00 PM</option>
                  <option value="11 : 30 PM">11:30 PM</option>
                </select>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-2">
                            <div class="form-group">
                                <label>Recurrence</label>
                                <br/>
                                <input type="checkbox" ng-model="editEvent.reoccurance" id="editReoccuranceId" ng-checked="editEvent.reoccurance == 1" ng-click="OpenEditRepeatModel();" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-2 col-md-2">
                        <div class="form-group custom-checkboxes">
                            <label>Event Colour</label>
                            <br/>
                            <a href="javascript: void(0);" onclick="
                                    $('.eeditcolor').html('&nbsp;&nbsp;&nbsp;');
                                    $('#editcolor4').html('<i class=\'fa fa-check\'></i>');
                                    $('#editEventColor').val('label-info');
                                    return false;"> <span id="editcolor4" class="eeditcolor label label-info"><i class="fa fa-check"></i></span> </a>
                            <a href="javascript: void(0);" onclick="
                                    $('.eeditcolor').html('&nbsp;&nbsp;&nbsp;');
                                    $('#editcolor2').html('<i class=\'fa fa-check\'></i>');
                                    $('#editEventColor').val('label-primary');
                                    return false;"> <span id="editcolor2" class="eeditcolor label label-primary">&nbsp;&nbsp;&nbsp;</span> </a>
                            <a href="javascript: void(0);" onclick="
                                    $('.eeditcolor').html('&nbsp;&nbsp;&nbsp;');
                                    $('#editcolor3').html('<i class=\'fa fa-check\'></i>');
                                    $('#editEventColor').val('event-color-green');
                                    return false;"> <span id="editcolor3" class="eeditcolor label event-color-green">&nbsp;&nbsp;&nbsp;</span> </a><br/>
                            <a href="javascript: void(0);" onclick="
                                    $('.eeditcolor').html('&nbsp;&nbsp;&nbsp;');
                                    $('#editcolor1').html('<i class=\'fa fa-check\'></i>');
                                    $('#editEventColor').val('event-color-brown');
                                    return false;"> <span id="editcolor1" class="eeditcolor label event-color-brown">&nbsp;&nbsp;&nbsp;</span> </a>
                            <a href="javascript: void(0);" onclick="
                                    $('.eeditcolor').html('&nbsp;&nbsp;&nbsp;');
                                    $('#editcolor5').html('<i class=\'fa fa-check\'></i>');
                                    $('#editEventColor').val('event-color-yellow');
                                    return false;"> <span id="editcolor5" class="eeditcolor label event-color-yellow">&nbsp;&nbsp;&nbsp;</span> </a>
                            <a href="javascript: void(0);" onclick="
                                    $('.eeditcolor').html('&nbsp;&nbsp;&nbsp;');
                                    $('#editcolor6').html('<i class=\'fa fa-check\'></i>');
                                    $('#editEventColor').val('event-color-red');
                                    return false;"> <span id="editcolor6" class="eeditcolor label event-color-red">&nbsp;&nbsp;&nbsp;</span> </a>
                        </div>
                        <input type="hidden" ng-model="editEvent.color" id="editEventColor">
                    </div>
                    <div class="col-lg-3 col-md-3">
                        <div class="form-group">
                            <label>Show me as</label>
                            <select ng-model="editEvent.showMeAs" class="form-control">
                <option>- Select -</option>
                <option>Busy</option>
                <option>Out of Office</option>
                <option>Free</option>
                <option>Available</option>
                <option>Meeting for the event selected</option>
              </select>
                        </div>
                    </div>
                    <!--<div class="col-lg-3 col-md-3" ng-controller="EventFileUploadController" >
                            <div class="form-group" >
                                <label>Attachment</label><br/>
                                <div class="form-group" >
                                    <div class="fileUpload btn btn_blue" tabindex="7" >
                                        <span>Select File</span>
                                        <input id="uploadDocBtn" type="file" ngf-select="uploadFiles($file, $invalidFiles)" name="file" multiple accept="image/*" class="upload" ngf-max-height="1000" ngf-max-size="1MB" />
                                        <input type="hidden" name="editEventFile" ng-model="addEvent.fileName" />
                                        <input type="hidden" name="editEventFile" ng-model="addEvent.newFileName" />
                                    </div><br/>
                                    <a href="{{$rootScope.basePath + 'upload/calendar_event_attachment/' + addEvent.newFileName}}" target="_blank"><span ng-bind="addEvent.fileName"></span></a>
                                </div>
                            </div>
                        </div>-->
                    <div class="col-lg-3 col-md-3">
                        <div class="form-group" ng-controller="DocUploadDocument_single">
                            <div class="fileUpload btn btn_blue" > <span>Select File</span><span ng-show="image_error" style="color:#F00">Error in files uploading Please check Size and Format JPG, Word or PDF</span>
                                <input type="file" ngf-select="uploadFiles($file, $invalidFiles)" name="file" accept=".gif, .jpg, .png, .doc, .docx,.pdf" multiple class="upload" ngf-max-size="2MB" ngf-max-files="20" />
                                <input type="hidden" ng-model="addEvent.FileType">
                                <input type="hidden" ng-model="addEvent.newFileName">
                                <input type="hidden" ng-model="newFileName" />
                                <input type="hidden" ng-init="addEvent.newFileName = addEvent.newFileName" ng-model="addEvent.newFileName">
                            </div>
                            <br/>
                            <div class=" " ng-if="addEvent.newFileName"> <a href="{{imagePath +addEvent.newFileName}}" target="_blank"><span ng-bind="addEvent.fileName"></span></a> </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4">
                        <div class="form-group">
                            <label>Attached Files</label>
                            <br/>
                            <div ng-repeat="file in editEvent.attachedFiles" style="float: left; margin-left: 10px;">
                                <a href="{{$rootScope.basePath + 'upload/calendar_event_attachment/' + file.newname}}" target="_blank"> <span ng-bind="file.name"></span> </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-3 col-md-3">
                        <div class="form-group">
                            <label>Notification</label>
                            <select ng-model="editEvent.notificationType" class="form-control">
                <option value="1">Pop-up</option>
                <option value="2">Email</option>
              </select>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3">
                        <div class="form-group">
                            <label>Reminder</label>
                            <input type="number" ng-model="editEvent.remind" class="form-control" min="0" />
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-2">
                        <div class="form-group">
                            <label>Days / Weeks</label>
                            <select ng-model="editEvent.daysOrWeeks" class="form-control">
                <option value="1">Days</option>
                <option value="2">Weeks</option>
              </select>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-2">
                        <div class="form-group">
                            <label>Hours</label>
                            <input type="number" ng-model="editEvent.hours" class="form-control" min="0" />
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-2">
                        <div class="form-group">
                            <label>Minutes</label>
                            <input type="number" ng-model="editEvent.minutes" class="form-control" min="0" />
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12">
                        <div class="form-group">
                            <label>Description</label>
                            <textarea class="form-control" ng-model="editEvent.description" id="editEventDesc" placeholder=""></textarea>
                        </div>
                    </div>
                </div>
                <div class="row" ng-show="showSummary">
                    <div class="col-lg-12 col-md-12">
                        <div class="form-group">
                            <label style="float: left; width: auto; font-weight: bold !important;">Summary:&nbsp;&nbsp;</label>
                            <p ng-bind="editEvent.repeat.summary" id="editRepeatSummary1" style="float: left;"></p>
                            <input type="hidden" ng-model="editEvent.repeat.summary">
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-submit" ng-click="editEvent();">Save</button>
                <button type="button" class="btn btn-delete" ng-click="showCustomRightClickMenu(1, '', editEvent.id, 2);">Delete</button>
                <button type="button" class="btn btn-cancel" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
<button type="button" id="modaldeleteeventbtn" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#modaldeleteevent" style="display: none;"> Delete Event </button>
<div class="modal fade" id="modaldeleteevent">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Delete Event</h4>
            </div>
            <div class="modal-body">
                <p ng-bind="deleteEvent.errorMessage" style="text-align: center; color: #FF0000;"></p>
                <p ng-bind="deleteEvent.successMessage" style="text-align: center; color: #00FF00;"></p>
                <p>Are you sure you want to delete this event?</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger width_80" data-dismiss="modal" ng-click="deleteEvent();">Confirm</button>
                <button type="button" class="btn default width_80" data-dismiss="modal">Cancel</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<button type="button" id="modalsharecalbtn" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#modalsharecal" style="display: none;"> Share Calendar </button>
<div class="modal fade" id="modalsharecal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Share Calendar</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-lg-12 col-md-12 no-padding">
                        <div class="col-lg-12 ">
                            <div class="form-group" id="inviteshare">
                                <label><b>Share With</b></label>
                                <!--                                <select  ng-model="shareCalendar.users" class="form-control" ng-init="getUsers();" multiple>
                                                                        <option value="{{user.id}}" ng-repeat="user in users.users">{{user.name}}</option>
                                                                    </select>-->
                                <div class="demo" style="padding-top: 0px; padding-bottom: 0px;">
                                    <div class="control-group">
                                        <select ng-model="shareCalendar.users" class="contacts" id="share-users">
                    </select>
                                    </div>
                                </div>
                                <script type="text/javascript">
                                    setTimeout(function() {
                                        var REGEX_EMAIL = '([a-z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+)*@' +
                                            '(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)';
                                        var formatName = function(item) {
                                            return $.trim((item.first_name || '') + ' ' + (item.last_name || ''));
                                        };
                                        $selectshareusers = $('#share-users').selectize({
                                            persist: false,
                                            maxItems: null,
                                            openOnFocus: false,
                                            valueField: 'email',
                                            labelField: 'name',
                                            searchField: ['first_name', 'last_name', 'email'],
                                            sortField: [{
                                                    field: 'first_name',
                                                    direction: 'asc'
                                                },
                                                {
                                                    field: 'last_name',
                                                    direction: 'asc'
                                                }
                                            ],
                                            options: $.parseJSON($('#employeecontacts').val()), //$('[ng-controller="MailController"]').scope().contacts,
                                            render: {
                                                item: function(item, escape) {
                                                    var name = formatName(item);
                                                    return '<div>' +
                                                        (name ? '<span class="name">' + escape(name) + '</span>' : '') +
                                                        (item.email ? '<span class="email">' + escape(item.email) + '</span>' : '') +
                                                        '</div>';
                                                },
                                                option: function(item, escape) {
                                                    var name = formatName(item);
                                                    var label = name || item.email;
                                                    var caption = name ? item.email : null;
                                                    return '<div>' +
                                                        '<span class="label">' + escape(label) + '</span>' +
                                                        (caption ? '<span class="caption">' + escape(caption) + '</span>' : '') +
                                                        '</div>';
                                                }
                                            },
                                            createFilter: function(input) {
                                                var regexpA = new RegExp('^' + REGEX_EMAIL + '$', 'i');
                                                var regexpB = new RegExp('^([^<]*)\<' + REGEX_EMAIL + '\>$', 'i');
                                                return regexpA.test(input) || regexpB.test(input);
                                            },
                                            create: function(input) {
                                                if ((new RegExp('^' + REGEX_EMAIL + '$', 'i')).test(input)) {
                                                    return {
                                                        email: input
                                                    };
                                                }
                                                var match = input.match(new RegExp('^([^<]*)\<' + REGEX_EMAIL + '\>$', 'i'));
                                                if (match) {
                                                    var name = $.trim(match[1]);
                                                    var pos_space = name.indexOf(' ');
                                                    var first_name = name.substring(0, pos_space);
                                                    var last_name = name.substring(pos_space + 1);
                                                    return {
                                                        email: match[2],
                                                        first_name: first_name,
                                                        last_name: last_name
                                                    };
                                                }
                                                alert('Invalid email address.');
                                                return false;
                                            }
                                        });
                                        $("#inviteshare .selectize-input").on('change', function() {
                                            $("#share-users")[0].selectize.open();
                                        });
                                        $("#clearadd").on("click", function() {
                                            var selectizeInvite = $selectshareusers[0].selectize;
                                            selectizeInvite.clear();
                                            //                                                                    $('#select-to').off('click');
                                            //                                                                    $('#select-to').on('change');
                                            //                                                                    selectizeTo.addOption([{"email": "ali434333@navsonsoftware.com", "first_name": "Ali Athar test111", "last_name": ""},{"email": "ali4343@navsonsoftware.com", "first_name": "Ali Athar test", "last_name": ""},]);
                                            //                                                                    selectizeTo.addItem("ali434333@navsonsoftware.com");
                                            //                                                                    selectizeTo.addItem("ali4343@navsonsoftware.com");


                                        });
                                    }, 1000);
                                </script>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-md-12">
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <label><b>With Level</b></label>
                                    <select ng-model="shareCalendar.level" class="form-control">
                    <option value="">Please Select Level</option>
                    <option value="1">View</option>
                    <option value="2">Add</option>
                    <option value="5">Edit</option>
                    <option value="4">View and Add</option>
                    <option value="6">View, Add and Edit</option>
                  </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-md-12">
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <label><b>Message</b></label>
                                    <textarea class="form-control" ng-model="shareCalendar.message" placeholder="Write message for your friend."></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn_blue " data-dismiss="modal" ng-click="shareCalendar();">Share</button>
                <button type="button" class="btn btn-cancel" data-dismiss="modal"> Cancel</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<button type="button" id="modalrepeateventbtn" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#modalrepeatevent" style="display: none;"> Repeat EVent </button>
<div class="modal fade" id="modalrepeatevent">
    <div class="modal-dialog" style=" width: 40%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Repeat</h4>
            </div>
            <div class="modal-body" style="overflow: hidden;margin-left: 62px;">
                <div>
                  <form class="form-horizontal">
                    <div class="form-group">
                      <label class="col-sm-3 control-label">Repeats</label>
                      <div class="col-sm-6">
                        <select ng-model="addEvent.repeat.repeats" name="repeats" id="repeats" class="form-control" ng-change="changeRepeatName(); changeSummary();">
                        <option value="">--Please Select--</option>
                        <option value="0">Daily</option>
                        <option value="1" >Every weekday (Monday to Friday)</option>
                        <option value="2" >Every Monday, Wednesday, and Friday</option>
                        <option value="3" >Every Tuesday and Thursday</option>
                        <option value="4" >Weekly</option>
                        <option value="5" >Monthly</option>
                        <option value="6" >Yearly</option>
                      </select>
                      </div>
                    </div>
                    <div class="form-group">
                      <div ng-hide="addEvent.repeat.repeats == 1 || addEvent.repeat.repeats == 2 || addEvent.repeat.repeats == 3" ng-show="addEvent.repeat.repeats == 0 || addEvent.repeat.repeats == 4 || addEvent.repeat.repeats == 5 || addEvent.repeat.repeats == 6">

                      <label class="col-sm-3 control-label">Repeat every</label>
                      <div class="col-sm-6">
                        <select ng-model="addEvent.repeat.repeatEvery" class="form-control" id="repeatEvery" ng-change="changeSummary();">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                        <option value="26">26</option>
                        <option value="27">27</option>
                        <option value="28">28</option>
                        <option value="29">29</option>
                        <option value="30">30</option>
                      </select>
                      </div>

                      <div class="col-3-sm" ng-hide="addEvent.repeat.repeats == 1 || addEvent.repeat.repeats == 2 || addEvent.repeat.repeats == 3" ng-show="addEvent.repeat.repeats == 0 || addEvent.repeat.repeats == 4 || addEvent.repeat.repeats == 5 || addEvent.repeat.repeats == 6">
                              <div style=" padding-top: 5px;"><b>{{addEvent.repeat.repeatName}}</b></div>
                      </div>
                      </div>
                    </div>
                    <div class="form-group" ng-show="addEvent.repeat.repeats == 4">
                      <label class="col-sm-3 control-label">Repeat On</label>
                      <div class="col-sm-9" style="    margin-top: 8px;">
                        <input type="checkbox" ng-model="addEvent.repeat.repeatOnM" id="repeatOnMon" ng-click="changeSummary();"> &nbsp;M&nbsp;&nbsp;&nbsp;
                        <input type="checkbox" ng-model="addEvent.repeat.repeatOnT" id="repeatOnTue" ng-click="changeSummary();"> &nbsp;T&nbsp;&nbsp;&nbsp;
                        <input type="checkbox" ng-model="addEvent.repeat.repeatOnW" id="repeatOnWed" ng-click="changeSummary();"> &nbsp;W&nbsp;&nbsp;&nbsp;
                        <input type="checkbox" ng-model="addEvent.repeat.repeatOnTh" id="repeatOnThu" ng-click="changeSummary();"> &nbsp;T&nbsp;&nbsp;&nbsp;
                        <input type="checkbox" ng-model="addEvent.repeat.repeatOnF" id="repeatOnFri" ng-click="changeSummary();"> &nbsp;F&nbsp;&nbsp;&nbsp;
                        <input type="checkbox" ng-model="addEvent.repeat.repeatOnSa" id="repeatOnSat" ng-click="changeSummary();"> &nbsp;S&nbsp;&nbsp;&nbsp;
                        <input type="checkbox" ng-model="addEvent.repeat.repeatOnSu" id="repeatOnSun" ng-click="changeSummary();"> &nbsp;S&nbsp;&nbsp;&nbsp;
                      </div>
                    </div>
                    <div class="form-group" ng-show="addEvent.repeat.repeats == 5">
                      <label class="col-sm-3 control-label">Repeat by</label>
                      <div class="col-sm-9" style="    margin-top: 7px;">
                        <input type="radio" ng-model="addEvent.repeat.repeatBy" id="repeatByMonth" value="month" ng-click="changeSummary();" checked> &nbsp;day of the month&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="radio" ng-model="addEvent.repeat.repeatBy" value="week" id="repeatByWeek" ng-click="changeSummary();"> &nbsp;day of the week
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="col-sm-3 control-label">Starts on</label>
                      <div class="col-sm-6">
                          <input type="text" class="form-control" ng-model="addEvent.repeat.startOn" id="eventRepeatStartOnDate" ng-change="changeSummary();" readonly/>
                      </div>
                    </div>
                    <div class="form-group">

                      <label class="col-sm-3 control-label">Ends</label>
                      <div class="col-sm-9">
                        <label class="radio-inline">
                          <input type="radio" ng-model="addEvent.repeat.eventRepeatEnd" value="never" id="eventRepeatEndOnNever" ng-click="eventRepeatEnd(); changeSummary();" checked/>
                          Never
                        </label>
                        <br>

                        <label class="radio-inline">
                          <input type="radio" ng-model="addEvent.repeat.eventRepeatEnd" value="after" id="eventRepeatEndOnAfter" ng-click="eventRepeatEnd(); changeSummary();"/>
                          After
                        </label>
                        <input type="text" class="form-control" style="width: 30%;position: absolute;top: 28px;left: 86px;height:27px;" ng-model="addEvent.repeat.after" id="repeatEventAfter" ng-change="changeSummary();"  disabled/>

                        <br>
                        <label class="radio-inline">
                          <input type="radio" ng-model="addEvent.repeat.eventRepeatEnd" value="on" id="eventRepeatEndOnDate" ng-click="eventRepeatEnd(); changeSummary();"/>
                          On </label>
                          <input type="text" style="width: 30%;position: absolute;top: 59px;left: 86px;height:27px;" ng-model="addEvent.repeat.onDate" class="form-control" id="repeatEventEndOnDate1" ng-change="changeSummary();" ng-click="changeSummary();" />
                      </div>

                    </div>
                    <div class="form-group" style=" color: #2196F3;">
                      <label class="col-sm-3 control-label">Summary</label>
                      <div class="col-sm-9">
                          <b ng-bind="addEvent.repeat.summary" style="    position: relative;
    top: 8px;"></b>
                      </div>
                    </div>
                  </form>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-submit" data-dismiss="modal"><i class="fa fa-check fa_display"></i>Save</button>
                <button type="button" class="btn btn-cancel" data-dismiss="modal" ng-click="emptyReoccurrance();">Cancel</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<button type="button" id="modaleditrepeateventbtn" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#modaleditrepeatevent" style="display: none;"> Edit Repeat EVent </button>
<div class="modal fade" id="modaleditrepeatevent">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Recurrence</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-lg-12 col-md-12">
                        <div class="form-group">
                            <label>Repeats</label>
                            <select ng-model="editEvent.repeat.repeats" id="editRepeats" class="form-control" ng-change="changeEditRepeatName(); changeEditSummary();">
                <option value="">Please Select</option>
                <option value="0">Daily</option>
                <option value="1" >Every weekday (Monday to Friday)</option>
                <option value="2" >Every Monday, Wednesday, and Friday</option>
                <option value="3" >Every Tuesday and Thursday</option>
                <option value="4" >Weekly</option>
                <option value="5" >Monthly</option>
                <option value="6" >Yearly</option>
              </select>
                        </div>
                    </div>
                </div>
                <hr class="hr2">
                <div class="row">
                    <div class="col-lg-6 col-md-6" ng-hide="editEvent.repeat.repeats == 1 || editEvent.repeat.repeats == 2 || editEvent.repeat.repeats == 3" ng-show="editEvent.repeat.repeats == 0 || editEvent.repeat.repeats == 4 || editEvent.repeat.repeats == 5 || editEvent.repeat.repeats == 6">
                        <div class="form-group">
                            <label>Repeat every</label>
                            <select ng-model="editEvent.repeat.repeatEvery" id="editRepeatEvery" class="form-control" ng-change="changeEditSummary();">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
                <option value="13">13</option>
                <option value="14">14</option>
                <option value="15">15</option>
                <option value="16">16</option>
                <option value="17">17</option>
                <option value="18">18</option>
                <option value="19">19</option>
                <option value="20">20</option>
                <option value="21">21</option>
                <option value="22">22</option>
                <option value="23">23</option>
                <option value="24">24</option>
                <option value="25">25</option>
                <option value="26">26</option>
                <option value="27">27</option>
                <option value="28">28</option>
                <option value="29">29</option>
                <option value="30">30</option>
              </select>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6" ng-hide="editEvent.repeat.repeats == 1 || editEvent.repeat.repeats == 2 || editEvent.repeat.repeats == 3" ng-show="editEvent.repeat.repeats == 0 || editEvent.repeat.repeats == 4 || editEvent.repeat.repeats == 5 || editEvent.repeat.repeats == 6">
                        <div class="form-group">
                            <label>&nbsp;</label>
                            <div>{{editEvent.repeat.repeatName}}</div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6 col-md-6" ng-show="editEvent.repeat.repeats == 4">
                        <div class="form-group">
                            <label>Repeat On</label>
                            <br/>
                            <input type="checkbox" ng-model="editEvent.repeat.repeatOnM" id="editRepeatOnMon" ng-click="changeEditSummary();" ng-checked="editEvent.repeat.repeatOnM == 1"> &nbsp;M&nbsp;&nbsp;&nbsp;
                            <input type="checkbox" ng-model="editEvent.repeat.repeatOnT" id="editRepeatOnTue" ng-click="changeEditSummary();" ng-checked="editEvent.repeat.repeatOnT == 1"> &nbsp;T&nbsp;&nbsp;&nbsp;
                            <input type="checkbox" ng-model="editEvent.repeat.repeatOnW" id="editRepeatOnWed" ng-click="changeEditSummary();" ng-checked="editEvent.repeat.repeatOnW == 1"> &nbsp;W&nbsp;&nbsp;&nbsp;
                            <input type="checkbox" ng-model="editEvent.repeat.repeatOnTh" id="editRepeatOnThu" ng-click="changeEditSummary();" ng-checked="editEvent.repeat.repeatOnTh == 1"> &nbsp;T&nbsp;&nbsp;&nbsp;
                            <input type="checkbox" ng-model="editEvent.repeat.repeatOnF" id="editRepeatOnFri" ng-click="changeEditSummary();" ng-checked="editEvent.repeat.repeatOnF == 1"> &nbsp;F&nbsp;&nbsp;&nbsp;
                            <input type="checkbox" ng-model="editEvent.repeat.repeatOnSa" id="editRepeatOnSat" ng-click="changeEditSummary();" ng-checked="editEvent.repeat.repeatOnSa == 1"> &nbsp;S&nbsp;&nbsp;&nbsp;
                            <input type="checkbox" ng-model="editEvent.repeat.repeatOnSu" id="editRepeatOnSun" ng-click="changeEditSummary();" ng-checked="editEvent.repeat.repeatOnSu == 1"> &nbsp;S&nbsp;&nbsp;&nbsp; </div>
                    </div>
                    <div class="col-lg-6 col-md-6" ng-show="editEvent.repeat.repeats == 5">
                        <div class="form-group">
                            <label>Repeat by</label>
                            <br/>
                            <input type="radio" ng-model="editEvent.repeat.repeatBy" id="editRepeatByMonth" value="month" ng-checked="editEvent.repeat.repeatBy == 'month'" ng-click="changeEditSummary();"> &nbsp;day of the month&nbsp;&nbsp;&nbsp;&nbsp;
                            <input type="radio" ng-model="editEvent.repeat.repeatBy" value="week" id="editRepeatByWeek" ng-checked="editEvent.repeat.repeatBy == 'week'" ng-click="changeEditSummary();"> &nbsp;day of the week </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6 col-md-6">
                        <div class="form-group">
                            <label>Start on</label>
                            <input type="text" class="form-control" ng-model="editEvent.repeat.startOn" id="eventEditRepeatStartOnDate" ng-change="changeEditSummary();" readonly/>
                        </div>
                    </div>
                </div>
                <hr class="hr2">
                <div class="row">
                    <div class="col-lg-2 col-md-2">
                        <div class="form-group">
                            <label>Ends</label>
                            <label class="radio-inline">
                <input type="radio" ng-model="editEvent.repeat.eventRepeatEnd" value="never" id="eventEditRepeatEndOnNever" ng-click="eventEditRepeatEnd(); changeEditSummary();" ng-checked="editEvent.repeat.eventRepeatEnd == 'never'"/>
                Never </label>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-2">
                        <div class="form-group text-right">
                            <label style="display:block">&nbsp;</label>
                            <label class="radio-inline">
                <input type="radio" ng-model="editEvent.repeat.eventRepeatEnd" value="after" id="eventEditRepeatEndOnAfter" ng-click="eventEditRepeatEnd(); changeEditSummary();" ng-checked="editEvent.repeat.eventRepeatEnd == 'after'"/>
                After </label>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3">
                        <div class="form-group">
                            <label style="display:block">&nbsp;</label>
                            <input type="text" class="form-control" ng-model="editEvent.repeat.after" ng-change="changeEditSummary();" id="editRepeatEventAfter" disabled/>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-2">
                        <div class="form-group text-right">
                            <label style="display:block">&nbsp;</label>
                            <label class="radio-inline">
                <input type="radio" ng-model="editEvent.repeat.eventRepeatEnd" value="on" id="eventEditRepeatEndOnDate" ng-click="eventEditRepeatEnd(); changeEditSummary();" ng-checked="editEvent.repeat.eventRepeatEnd == 'on'"/>
                On </label>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3">
                        <div class="form-group">
                            <label style="display:block">&nbsp;</label>
                            <input type="text" ng-model="editEvent.repeat.onDate" class="form-control" ng-change="changeEditSummary();" ng-click="changeEditSummary();" ng-mouseover="changeEditSummary();" id="editRepeatEventEndOnDate1" value="" />
                        </div>
                    </div>
                </div>
                <hr class="hr2">
                <div class="row">
                    <div class="col-lg-12 col-md-12">
                        <div class="form-group">
                            <label>Summary</label>
                            <p ng-bind="editEvent.repeat.summary" id="editRepeatSummary"></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-submit" data-dismiss="modal">Save</button>
                <button type="button" class="btn btn-cancel" data-dismiss="modal">Cancel</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->

myApp.service("ngTableDataService",["$http",function(e){var t={getData:function(o,r,n,a,c,s,l){function i(o,r,a,c){void 0===c.selected&&(c.options=void 0!==t.cache.filters_dropdown?t.cache.filters_dropdown.dropdown:null,null!=c.options&&$.each(c.options,function(e,o){o.value==t.cache.filters_dropdown.default_filter_id&&(c.selected=o)})),c.columns=t.cache.columns,c.getRecord=function(){c.myfilterid=this.selected.value,n&&(s.filter_id=c.myfilterid,e.post(n,s).then(function(e){return null==e.data.record.result?(c.showLoader=!1,null):(angular.copy(e.data,t.cache),void c.table.tableParams5.reload())}))};var l=c.MyCustomeFilters?a("filter")(t.cache.record.result,c.MyCustomeFilters):t.cache.record.result,i=r.sorting()?a("orderBy")(l,r.orderBy()):l;r.total(i.length),o.resolve(i.slice((r.page()-1)*r.count(),r.page()*r.count())),c.showLoader=!1}c.showLoader=!0,0==Object.keys(c.MyCustomeFilters).length?e.post(n,s).then(function(e){return null==e.data.record.result?(c.showLoader=!1,null):(t.cache=e.data,void i(o,r,a,c))}):i(o,r,a,c)},getDataCustom:function(o,r,n,a,c,s,l){function i(e,o,r,n){var a=n.MyCustomeFilters?r("filter")(t.cache.response,n.MyCustomeFilters):t.cache.record.result,c=o.sorting()?r("orderBy")(a,o.orderBy()):a;o.total(c.length),e.resolve(c.slice((o.page()-1)*o.count(),o.page()*o.count())),n.showLoader=!1}function u(e){var t=e.replace("_"," ");return t.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}c.showLoader=!0,0==Object.keys(c.MyCustomeFilters).length?e.post(n,s).then(function(e){void 0==e.data.response?t.cache.response=[]:t.cache=e.data,c.columns=[],c.total=0,void 0!=e.data.total&&0!=e.data.total&&(c.total=e.data.total),angular.forEach(t.cache.response[0],function(e,t){"id"!=t&&c.columns.push({title:u(t),field:t,sortable:t,show:!0})}),i(o,r,a,c)}):i(o,r,a,c)},getDataCustomAjax:function(o,r,n,a,c,s,l){function i(e,o,r,a){a.columns=t.cache.columns,a.getRecord=function(){if(a.myfilterid=this.selected.value,n){var e=a.myfilterid;n.get({module_id:a.module_id,module_table:a.module_table,filter_id:e},function(e){angular.copy(e,t.cache),a.table.tableParams5.reload()})}};var c=a.MyCustomeFilters?r("filter")(t.cache.record.result,a.MyCustomeFilters):t.cache.record.result,s=o.sorting()?r("orderBy")(c,o.orderBy()):c;null==s?e.resolve():(o.total(s.length),e.resolve(s.slice((o.page()-1)*o.count(),o.page()*o.count())))}t.oldstatename!=s&&(t.oldstatename=s,t.cache=null),t.cache?i(o,r,a,c):n&&e.post(n,l).then(function(e){t.cache=e.data,i(o,r,a,c)})}};return t}]),myApp.service("Auth",["$http","$rootScope",function(e,t){var o="api/user/login";this.login=function(t){return e.post(o,t)}}]),myApp.service("Calendar",["$http","$rootScope",function(e,t){var o={};o.instances=[],this.get_caledar=function(){return o.open=function(e,r){e.preventDefault(),e.stopPropagation();var n=t.$storage.getItem("old_instance");null!=n&&(o.instances[n]=!1),o.instances[r]=!0,t.$storage.setItem("old_instance",r),o.instances[r]=!0},o.options={"show-weeks":!1,startingDay:0},o.format=t.dateFormats[t.defaultDateFormat],o}}]),myApp.service("Auth",["$http","$rootScope",function(e,t){var o="api/user/login";this.login=function(t){return e.post(o,t)}}]),myApp.service("sharedProperties",function(){var e="test string value",t={data:"test object value"};return{getString:function(){return e},setString:function(t){e=t},getObject:function(){return t}}}),myApp.factory("myService",["$http",function(e){return{getPrefix:function(t,o){return e.get("api/company/get_prefix/"+o+"/"+t)},getDefaultCurrency:function(){return e.get("api/company/default_crrency")}}}]);